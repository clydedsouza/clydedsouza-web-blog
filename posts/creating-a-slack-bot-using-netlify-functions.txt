1:"$Sreact.fragment"
2:I[2947,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"RegisterAnalytics"]
3:I[446,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"ThemeProviders"]
4:I[9243,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],""]
5:I[7392,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"KBarSearchProvider"]
6:I[6874,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],""]
7:I[3063,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"Image"]
8:I[4159,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"KBarButton"]
9:I[7773,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"default"]
a:I[7555,[],""]
b:I[1295,[],""]
d:I[9665,[],"OutletBoundary"]
10:I[9665,[],"ViewportBoundary"]
12:I[9665,[],"MetadataBoundary"]
14:I[6614,[],""]
:HL["/_next/static/media/e4af272ccee01ff0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/991d5e3381d79286.css","style"]
:HL["/_next/static/css/37f456282b5838dd.css","style"]
:HL["/_next/static/css/a821df72551a909a.css","style"]
:HL["/_next/static/css/252e266d7553d403.css","style"]
0:{"P":null,"b":"oscSY-0MPVMnPtFuskdJZ","p":"","c":["","posts","creating-a-slack-bot-using-netlify-functions"],"i":false,"f":[[["",{"children":["posts",{"children":[["slug","creating-a-slack-bot-using-netlify-functions","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/991d5e3381d79286.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/37f456282b5838dd.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en-us","className":"__variable_93ed5b scroll-smooth","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"apple-touch-icon","sizes":"76x76","href":"/static/favicons/apple-touch-icon-76x76.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/static/favicons/apple-touch-icon-57x57.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/static/favicons/apple-touch-icon-57x57.png"}],["$","link",null,{"rel":"manifest","href":"/static/favicons/site.webmanifest"}],["$","link",null,{"rel":"mask-icon","href":"/static/favicons/apple-touch-icon-120x120.png","color":"#10984d"}],["$","meta",null,{"name":"google-adsense-account","content":"ca-pub-4666761687967451"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#10984d"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"#10984d"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"#10984d"}],["$","link",null,{"rel":"alternate","type":"application/rss+xml","href":"/feed.xml"}],["$","body",null,{"className":"bg-white text-black antialiased dark:bg-gray-950 dark:text-white","children":[["$","script",null,{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4666761687967451","crossOrigin":"anonymous"}],["$","$L2",null,{}],["$","$L3",null,{"children":[["$undefined",[["$","$L4",null,{"strategy":"lazyOnload","id":"sa-script","children":"\n            window.sa_event=window.sa_event||function(){var a=[].slice.call(arguments);window.sa_event.q?window.sa_event.q.push(a):window.sa_event.q=[a]};\n        "}],["$","$L4",null,{"strategy":"lazyOnload","src":"https://scripts.simpleanalyticscdn.com/latest.js"}]],"$undefined","$undefined","$undefined","$undefined"],["$","$L5",null,{"kbarConfig":{"searchDocumentsPath":"/search.json"},"children":[["$","header",null,{"className":"border-t-primary-500 sticky top-0 z-50 flex h-14 w-full items-center justify-between border-t-4 bg-white/95 px-8 py-4 backdrop-blur-lg dark:bg-gray-950","children":[["$","$L6",null,{"className":"break-words","href":"/","aria-label":"Clyde's Blog","children":["$","div",null,{"className":"flex items-center justify-between","children":[["$","div",null,{"className":"mr-3","children":["$","$L7",null,{"src":"/static/images/clydedsouza.jpg","width":35,"height":35,"style":{"borderRadius":"100px"},"priority":true,"alt":"Picture of the author"}]}],["$","div",null,{"className":"hidden text-xl font-semibold md:block","children":"Clyde's Blog"}]]}]}],["$","div",null,{"className":"flex items-center space-x-4 leading-5 sm:-mr-6 sm:space-x-6","children":[["$","$L8",null,{"aria-label":"Search","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","className":"hover:text-primary-500 dark:hover:text-primary-400 h-6 w-6 text-gray-900 dark:text-gray-100","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}]}]}],["$","div",null,{"className":"no-scrollbar hidden max-w-80 items-center gap-x-4 overflow-x-auto sm:flex md:max-w-72 lg:max-w-96","children":[["$","$L6","All posts",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 text-sm font-medium text-gray-900 dark:text-gray-100","href":"/posts","children":"All posts"}]]}],["$","a",null,{"className":"flex items-center justify-center gap-4 rounded-full bg-black px-2 py-1 text-sm text-white transition-colors duration-200 hover:bg-teal-500 focus:bg-teal-500 sm:px-4 sm:py-2 dark:bg-teal-500 dark:hover:bg-black dark:focus:bg-black","target":"_blank","rel":"noopener noreferrer","href":"https://clydedsouza.net","children":["$","span",null,{"className":"whitespace-nowrap","children":"Visit my website"}]}],false,["$","$L9",null,{}]]}]]}],["$","main",null,{"className":"mb-auto","children":["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","section",null,{"className":"mx-auto max-w-7xl px-2 sm:px-6 xl:max-w-7xl xl:px-0","children":[["$","h1",null,{"className":"py-6 text-5xl font-extrabold tracking-tight text-gray-900 sm:text-5xl sm:leading-10 md:text-5xl md:leading-14 dark:text-gray-100","children":"Sorry, this page doesn't exist."}],["$","div",null,{"className":"flex w-full flex-wrap","children":"Try heading to the homepage for a fresh start or using the search above to look for content."}],["$","div",null,{"className":"my-6 flex w-full flex-wrap","children":["$","$L6",null,{"className":"bg-primary-500 flex items-center justify-center gap-4 rounded-full px-4 py-2 text-white transition-colors duration-200 hover:bg-slate-800 focus:bg-slate-800 sm:px-8 sm:py-2","href":"/","children":"Back to homepage"}]}]]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],["$","footer",null,{"children":["$","div",null,{"className":"mt-6 flex flex-col items-center","children":[["$","div",null,{"className":"mb-3 flex space-x-4","children":[["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"mailto:clyde@clydedsouza.net","children":[["$","span",null,{"className":"sr-only","children":"mail"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 20 20","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Mail"}],["$","path",null,{"d":"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}],["$","path",null,{"d":"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz","children":[["$","span",null,{"className":"sr-only","children":"github"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"GitHub"}],["$","path",null,{"d":"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}]]}]]}],null,["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://www.youtube.com/@clydedz","children":[["$","span",null,{"className":"sr-only","children":"youtube"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Youtube"}],["$","path",null,{"d":"M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://www.linkedin.com/in/clydedz/","children":[["$","span",null,{"className":"sr-only","children":"linkedin"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Linkedin"}],["$","path",null,{"d":"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"}]]}]]}],null,null,["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://twitter.com/clydedz","children":[["$","span",null,{"className":"sr-only","children":"x"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"X"}],["$","path",null,{"d":"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"}]]}]]}],null,null,null]}],["$","div",null,{"className":"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400","children":[["$","div",null,{"children":["Copyright ©"," ",["$","a",null,{"className":"hover:text-primary-500 cursor-pointer hover:underline","target":"_blank","rel":"noopener noreferrer","href":"https://clydedsouza.net","children":"Clyde D'Souza"}]," ",2025,"."]}],["$","div",null,{"children":"All rights reserved."}]]}],["$","div",null,{"className":"mb-8 text-sm text-gray-500 dark:text-gray-400","children":["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/timlrx/tailwind-nextjs-starter-blog","children":"Thanks to this blog theme"}]}]]}]}]]}]]}]]}]]}],{"children":["posts",["$","$1","c",{"children":[null,["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","creating-a-slack-bot-using-netlify-functions","c"],["$","$1","c",{"children":[null,["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Lc","$undefined",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/a821df72551a909a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/252e266d7553d403.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$Ld",null,{"children":["$Le","$Lf",null]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","EmxtlyeB_pSYBEWlWQuLN",{"children":[["$","$L10",null,{"children":"$L11"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],["$","$L12",null,{"children":"$L13"}]]}],false]],"m":"$undefined","G":["$14","$undefined"],"s":false,"S":true}
15:I[3428,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
16:I[1130,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"PostHeader"]
17:I[2100,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
18:I[1954,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
19:I[3926,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"PostAside"]
c:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"Creating a Slack Bot Using Netlify Functions\",\"datePublished\":\"2021-04-25T00:00:00.000Z\",\"dateModified\":\"2021-04-25T00:00:00.000Z\",\"description\":\"Written in TypeScript, using Bolt JS framework and sprinkled with developer tips along the way\",\"image\":\"/static/posts/slackbot.png\",\"url\":\"https://blog.clydedsouza.net/posts/creating-a-slack-bot-using-netlify-functions\",\"author\":[{\"@type\":\"Person\",\"name\":\"Clyde D'Souza\"}]}"}}],["$","section",null,{"className":"mx-auto max-w-7xl px-2 sm:px-6 xl:max-w-7xl xl:px-0","children":[["$","$L15",null,{}],["$","article",null,{"className":"xl:dark:divide-gray-700","children":[["$","$L16",null,{"content":{"title":"Creating a Slack Bot Using Netlify Functions","date":"2021-04-25T00:00:00.000Z","tags":["Slack","TypeScript","Bolt JS","Slack Bot","Netlify","Netlify Functions","Serverless","Bots"],"readingList":["Netlify"],"lastmod":"2021-04-25T00:00:00.000Z","draft":false,"subtitle":"Written in TypeScript, using Bolt JS framework and sprinkled with developer tips along the way","images":["/static/posts/slackbot.png"],"type":"Blog","readingTime":{"text":"27 min read","minutes":26.125,"time":1567500,"words":5225},"slug":"creating-a-slack-bot-using-netlify-functions","path":"posts/creating-a-slack-bot-using-netlify-functions","filePath":"posts/creating-a-slack-bot-using-netlify-functions.mdx","toc":[{"value":"Introduction","url":"#introduction","depth":3},{"value":"High-level design","url":"#high-level-design","depth":4},{"value":"Step #1: Creating a hello world Netlify function","url":"#step-1-creating-a-hello-world-netlify-function","depth":3},{"value":"Boilerplate code","url":"#boilerplate-code","depth":4},{"value":"Sign up with Netlify","url":"#sign-up-with-netlify","depth":4},{"value":"Updating the site name","url":"#updating-the-site-name","depth":4},{"value":"Install Netlify Dev CLI","url":"#install-netlify-dev-cli","depth":4},{"value":"Netlify link","url":"#netlify-link","depth":4},{"value":"Code changes","url":"#code-changes","depth":4},{"value":"Comparing code changes","url":"#comparing-code-changes","depth":4},{"value":"Time to shine!","url":"#time-to-shine","depth":4},{"value":"Build and deploy","url":"#build-and-deploy","depth":4},{"value":"Developer tip","url":"#developer-tip","depth":4},{"value":"Step #2: Creating a Slack app","url":"#step-2-creating-a-slack-app","depth":3},{"value":"Sign up","url":"#sign-up","depth":4},{"value":"Creating an app","url":"#creating-an-app","depth":4},{"value":"Adding scopes","url":"#adding-scopes","depth":4},{"value":"Fetching the signing secret","url":"#fetching-the-signing-secret","depth":4},{"value":"Injecting these values into your app","url":"#injecting-these-values-into-your-app","depth":4},{"value":"Environment variables in Netlify","url":"#environment-variables-in-netlify","depth":4},{"value":"Step #3: Integrating Bolt JS framework","url":"#step-3-integrating-bolt-js-framework","depth":3},{"value":"Installing Bolt","url":"#installing-bolt","depth":4},{"value":"Build and deploy","url":"#build-and-deploy-1","depth":4},{"value":"Comparing code changes","url":"#comparing-code-changes-1","depth":4},{"value":"Completing Slack's challenge","url":"#completing-slacks-challenge","depth":4},{"value":"Step #4: Receiving and sending your first message","url":"#step-4-receiving-and-sending-your-first-message","depth":3},{"value":"Code changes","url":"#code-changes-1","depth":4},{"value":"Comparing your code","url":"#comparing-your-code","depth":4},{"value":"Build and deploy","url":"#build-and-deploy-2","depth":4},{"value":"Testing your changes in Slack","url":"#testing-your-changes-in-slack","depth":4},{"value":"Replying to a thread and adding emoji reactions","url":"#replying-to-a-thread-and-adding-emoji-reactions","depth":4},{"value":"Step #5: Bolt with slash commands","url":"#step-5-bolt-with-slash-commands","depth":3},{"value":"Creating a slash command","url":"#creating-a-slash-command","depth":4},{"value":"Code changes","url":"#code-changes-2","depth":4},{"value":"Commit, build and deployment","url":"#commit-build-and-deployment","depth":4},{"value":"Testing it out in Slack","url":"#testing-it-out-in-slack","depth":4},{"value":"Troubleshooting","url":"#troubleshooting","depth":4},{"value":"Fixes","url":"#fixes","depth":4},{"value":"Code changes for this step","url":"#code-changes-for-this-step","depth":4},{"value":"Build and deploy","url":"#build-and-deploy-3","depth":4},{"value":"Test it out in Slack","url":"#test-it-out-in-slack","depth":4},{"value":"Other Slack interactions and events","url":"#other-slack-interactions-and-events","depth":4},{"value":"Tidying up your code and conclusion","url":"#tidying-up-your-code-and-conclusion","depth":3},{"value":"Refactoring and unit testing","url":"#refactoring-and-unit-testing","depth":4},{"value":"Types","url":"#types","depth":4},{"value":"Exposing only the function you need","url":"#exposing-only-the-function-you-need","depth":4},{"value":"Distributing your app","url":"#distributing-your-app","depth":4}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"Creating a Slack Bot Using Netlify Functions","datePublished":"2021-04-25T00:00:00.000Z","dateModified":"2021-04-25T00:00:00.000Z","description":"Written in TypeScript, using Bolt JS framework and sprinkled with developer tips along the way","image":"/static/posts/slackbot.png","url":"https://blog.clydedsouza.net/posts/creating-a-slack-bot-using-netlify-functions","author":[{"@type":"Person","name":"Clyde D'Souza"}]}}}],["$","div",null,{"className":"grid-rows-[auto_1fr] pb-8 xl:grid xl:grid-cols-4 xl:gap-x-6","children":[["$","div",null,{"className":"pt-2 xl:col-span-3 xl:row-span-2 xl:pb-0","children":[["$","div",null,{"className":"prose dark:prose-invert max-w-none pb-8","children":[["$","figure",null,{"className":"mb-2","children":[["$","$L7",null,{"src":"/static/posts/slackbot.png","alt":"Cover image of this article featuring Slack and Netlify logo.","className":"mb-0 aspect-16/9 object-cover pb-1","height":536.63,"width":954}],["$","figcaption",null,{"children":["$","center",null,{"children":"Image source: Created by the author featuring Slack and Netlify logo's."}]}]]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"introduction","children":[["$","a",null,{"className":"break-words","href":"#introduction","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Introduction"]}],["$","p",null,{"children":[["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://www.netlify.com/products/functions/","children":"Netlify Functions"}]," are Netlify's version of serverless functions — a single-purpose script deployed to a managed hosting provider, in this case, Netlify, that scales on-demand. ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://slack.dev/bolt-js/concepts","children":"Bolt JS"}]," is a framework to build ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://slack.com/","children":"Slack"}]," apps using JavaScript. I was curious about combining these two together, and with no guidance on how to do so, I ended up researching this subject quite a bit and eventually, figuring it out. This how-to guide aims at explaining how to create a TypeScript-based Slack app using Bolt JS and run it as a serverless function using Netlify Functions."]}],["$","p",null,{"children":"I understand that this a lengthy how-to guide, so let me give you a quick rundown of what we'll cover for a bird's eye view of this piece."}],["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"Step #1:"}]," We'll look at using an existing template to create our first TypeScript-based Netlify Function. In this step, we'll cover how to build and run a function locally, and how to deploy it to Netlify. This step forms the foundations of this guide."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Step #2:"}]," Now that we're comfortable with Netlify functions, we'll start integrating Slack by creating a Slack app, grabbing the credentials for our app and integrating it into our function so that the function can securely communicate with our Slack app."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Step #3:"}]," In this step, we'll integrate Slack's Bolt JS framework into our function. We'll also take a look at getting Slack to verify our functions URL and getting the Slack app to subscribe to an event."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Step #4:"}]," Now that we've subscribed to an event, we'll be able to receive a message from Slack when a user posts a message in a channel. We'll also look at getting our Slack app to respond back every time this happens."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Step #5"}],": In this step, we'll learn how to use Slack's slash command with Netlify Functions to cover a slightly different implementation scenario."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Tidy up and conclusion:"}]," Finally, we'll look at how to take our demo source code and tidy it up further with some tips on how to make it production-ready."]}]]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"high-level-design","children":[["$","a",null,{"className":"break-words","href":"#high-level-design","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"High-level design"]}],["$","p",null,{"children":"To give you a high-level overview of how all the components fit together and interact with each other, here is a high-level design diagram."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_dJWWf9zXEQCz1BYB2I0GhA.png","alt":"High-level design diagram outlining how all the components interact with each other.","width":"2193","height":"1905"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","hr",null,{}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-1-creating-a-hello-world-netlify-function","children":[["$","a",null,{"className":"break-words","href":"#step-1-creating-a-hello-world-netlify-function","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #1: Creating a hello world Netlify function"]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"boilerplate-code","children":[["$","a",null,{"className":"break-words","href":"#boilerplate-code","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Boilerplate code"]}],["$","p",null,{"children":["Let's start by creating a simple TypeScript-based hello world Netlify Function. To speed things up for you, I've created ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-typescript","children":"this template repository"}]," on GitHub — please fork this repository and clone it locally on your computer."]}],["$","p",null,{"children":["Let me explain what this does. I've created a file ",["$","code",null,{"children":"index.ts"}]," that will be the entry point of the function we're writing. Since Netlify Functions are deployed to ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://docs.netlify.com/functions/overview/#default-deployment-options","children":"AWS's serverless Lambda functions under the hood"}],", we need to export a ",["$","code",null,{"children":"handler()"}]," method. Since we're using TypeScript, we need to strongly type the input parameters and since these are going to be deployed on AWS Lambda functions, the event parameter is going to receive an object of the type ",["$","code",null,{"children":"APIGatewayEvent"}]," and context will receive of type ",["$","code",null,{"children":"Context"}],". The content in the body property in the returned object will be printed in the browser."]}],["$","$L17",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"import"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," APIGatewayEvent",["$","span",null,{"className":"token punctuation","children":","}]," Context ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'aws-lambda'"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"handler"}],["$","span",null,{"className":"token punctuation","children":"("}],"event",["$","span",null,{"className":"token operator","children":":"}]," APIGatewayEvent",["$","span",null,{"className":"token punctuation","children":","}]," context",["$","span",null,{"className":"token operator","children":":"}]," Context",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    statusCode",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"200"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    body",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'Hello, World'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["The ",["$","code",null,{"children":"netlify.toml"}]," file contains a build command that will run when we build the project later. Essentially, Netlify build will run the command ",["$","code",null,{"children":"npm run build"}]," which will eventually run ",["$","code",null,{"children":"tsc"}],". The ",["$","code",null,{"children":"tsconfig.json"}]," file tells the TypeScript compiler (i.e, ",["$","code",null,{"children":"tsc"}],") where to place the compiled JavaScript files. In this case, we're placing the JavaScript files in the ",["$","code",null,{"children":".netlify/functions"}]," directory which is also the default directory Netlify will look at while serving functions."]}],["$","p",null,{"children":["Execute the command ",["$","code",null,{"children":"npm install"}]," to install all node dependencies. Don't worry about running the function locally right now, we need to get a few more things in order before we can do so."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"sign-up-with-netlify","children":[["$","a",null,{"className":"break-words","href":"#sign-up-with-netlify","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Sign up with Netlify"]}],["$","p",null,{"children":["Next, we'll sign up with Netlify and create a new site from a Git repo. Once you've created your team, head over to the team dashboard and click the button ",["$","strong",null,{"children":"New site from Git"}],"."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_A5IhUGb17M6u8wzxRY3brA.png","alt":"Screenshot showing how to create a new site in Netlify from a git repo.","width":"929","height":"501"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":"This will show you a three-step wizard to creating a site. Step one is to connect Netlify with your GitHub repository, i.e, the repository you created earlier after forking the template. Netlify will automatically build and deploy your site contents when you commit changes to the main branch of this repo."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_X5TUyJ6GD1IUOYFhwjXxrg.png","alt":"Screenshot showing how to connect GitHub with Netlify.","width":"702","height":"416"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["If this pops up a GitHub login page, enter your username and password to proceed. You should now see an ",["$","strong",null,{"children":"Install Netlify"}]," screen along with your GitHub username."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_wfOyWLrWnCp9h-ca6Ja2ew.png","alt":"Screenshot showing how to install Netlify in GitHub.","width":"618","height":"297"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["If you select that, you should get the next screen which allows you to either give Netlify access to all repositories or you could manually grant access to only certain repositories. Either way, ensure that your forked repository has access. For this article, I'm going to select ",["$","strong",null,{"children":"All repositories"}]," and then click on the ",["$","strong",null,{"children":"Install"}]," button to install Netlify."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_orF_skLkhctOvk4E2nyYnA.png","alt":"Screenshot showing how to install Netlify in GitHub.","width":"536","height":"680"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["You'll now be redirected back to Netlify where you can pick the repository that you want to create a site from. I'm going to select my demo repository ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo","children":["$","strong",null,{"children":"ClydeDz/netlify-functions-slack-demo"}]}],"."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_FSGtWGEJMyPyAW6Prm8IVg.png","alt":"Screenshot showing how to connect GitHub with Netlify and pick a repository to sync with Netlify.","width":"669","height":"485"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["Leave all the settings in step three as-is and then click on the ",["$","strong",null,{"children":"Deploy site "}],"button to proceed. Netlify will create a site and trigger the first build and deployment."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"updating-the-site-name","children":[["$","a",null,{"className":"break-words","href":"#updating-the-site-name","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Updating the site name"]}],["$","p",null,{"children":"By default, Netlify will create a random site name for you in order to make it unique. This means, that your functions URL would contain this name too. We'll be using this function in the background so users will never see the URL, therefore, this name shouldn't matter. In fact, my personal recommendation would be to let this URL be as random as possible so it's difficult for someone to guess it and make random requests to it."}],["$","p",null,{"children":["However, if you do want to rename this, head over to ",["$","strong",null,{"children":"Site settings"}]," in Netlify and from the ",["$","strong",null,{"children":"Site details"}]," section, click on the ",["$","strong",null,{"children":"Change site name"}]," button."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_HFlTfJYsa0JrnzABmyjPVw.png","alt":"Screenshot showing how to update the site name in Netlify.","width":"916","height":"674"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["Enter your new site name in the pop-up and click on the ",["$","strong",null,{"children":"Save"}]," button."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_NWkku41v_il6eoN4E_GeUw.png","alt":"Screenshot showing how to update the site name in Netlify.","width":"553","height":"318"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["While you're in the ",["$","strong",null,{"children":"Site details"}]," screen, please grab the ",["$","strong",null,{"children":"API ID"}]," as well."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"install-netlify-dev-cli","children":[["$","a",null,{"className":"break-words","href":"#install-netlify-dev-cli","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Install Netlify Dev CLI"]}],["$","p",null,{"children":["The ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://www.netlify.com/products/dev/","children":"Netlify Dev CLI"}]," is a command-line tool to run all Netlify products locally. We'll be using this to test our function locally. To install the CLI, run the command ",["$","code",null,{"children":"npm i netlify-cli -g"}],". You can use the command ",["$","code",null,{"children":"netlify --version"}]," at any time to check what version of the CLI you're running. The complete list of available commands can be found on their ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://cli.netlify.com/","children":"documentation site"}],"."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"netlify-link","children":[["$","a",null,{"className":"break-words","href":"#netlify-link","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Netlify link"]}],["$","p",null,{"children":["The next step you need to do is to link the code sitting on your local device with the Netlify site you just created. To do this, type in the command ",["$","code",null,{"children":"netlify link"}],". This will start an interactive session in the terminal and you'll be presented with a choice on how you'd like to create this link. The simplest way is to select ",["$","strong",null,{"children":"Use current git remote origin"}],". Since you've already pulled your code repository down to your local machine, and since Netlify already is already connected to this repository's remote origin, Netlify will easily establish the link for you. In simple words, if A=B and B=C, then A=C."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_jxZQpRQ6OYTrk5dy5Ka8LQ.png","alt":"Screenshot showing how to link a local code repository with Netlify","width":"645","height":"158"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["In the background, Netlify will create a hidden folder called ",["$","code",null,{"children":".netlify"}]," and in this folder, it will place a file called ",["$","code",null,{"children":"state.json"}]," with your site id in it. This folder should also be automatically added to ",["$","code",null,{"children":".gitignore"}]," file, so we don't need to worry about this getting checked in — this is not sensitive information, it's just not required to be checked in."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"code-changes","children":[["$","a",null,{"className":"break-words","href":"#code-changes","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Code changes"]}],["$","p",null,{"children":["At this stage, I only want you to update the filename of ",["$","code",null,{"children":"index.ts"}]," to ",["$","code",null,{"children":"slackbot.ts"}],"."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"comparing-code-changes","children":[["$","a",null,{"className":"break-words","href":"#comparing-code-changes","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Comparing code changes"]}],["$","p",null,{"children":["If you'd like to compare your code changes for this step, head over to ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo/commit/f73ae6a12efb09778ca097fb9a1e3dbb9b4fe02b","children":"this diff page"}]," on GitHub."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"time-to-shine","children":[["$","a",null,{"className":"break-words","href":"#time-to-shine","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Time to shine!"]}],["$","p",null,{"children":["Let's see what our hello world function looks like locally. Run the command ",["$","code",null,{"children":"netlify build"}]," to compile your code and generate JavaScript files in the ",["$","code",null,{"children":".netlify/functions"}]," folder."]}],["$","p",null,{"children":["Once the build successfully completes, run the command ",["$","code",null,{"children":"netlify dev"}]," to start a local development server. Netlify assigned port 8888 to my application, so I'll head over to ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"http://localhost:8888/.netlify/functions/slackbot","children":"http://localhost:8888/.netlify/functions/slackbot"}]," to view the output. You should see ",["$","code",null,{"children":"Hello, World"}]," printed in the browser."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_Jt5Cdu1solN52zvq52IRsA.png","alt":"Screenshot showing how to test a Netlify Function locally.","width":"548","height":"91"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","strong",null,{"children":"Tip:"}]," Executing the command ",["$","code",null,{"children":"netlify dev --live"}]," will run the function locally but this time, Netlify will expose this function publicly using a public URL. You'd want to use this approach while testing your function with Slack as this eliminates the use of a tool like ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://ngrok.com/","children":"ngrok"}],"."]}]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"build-and-deploy","children":[["$","a",null,{"className":"break-words","href":"#build-and-deploy","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Build and deploy"]}],["$","p",null,{"children":"Congratulations on running your first Netlify Function locally! Let's commit this change and push it to GitHub. Within moments, you should see Netlify building your code and also publishing this to your Netlify site."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_u1gnlExfd-GHiorTapt97w.png","alt":"Screenshot showing the Netlify site build history.","width":"389","height":"76"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["Now, instead of localhost:8888, use the Netlify site URL to view your function in the browser. You can grab your Netlify site URL from the ",["$","strong",null,{"children":"Site overview"}]," tab in Netlify. Once again, you should see ",["$","code",null,{"children":"Hello, World"}]," printed in the browser."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_cFniHY0uhcsR7LsXZhyNig.png","alt":"Screenshot showing how to test a Netlify Function on the web.","width":"572","height":"91"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"developer-tip","children":[["$","a",null,{"className":"break-words","href":"#developer-tip","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Developer tip"]}],["$","p",null,{"children":["I'd highly recommend using ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://code.visualstudio.com/","children":"VS Code"}]," for your development. With VS Code, you can make use of multiple terminals to make your development experience seamless. One terminal can be used to execute a command like ",["$","code",null,{"children":"netlify dev --live"}]," to run a local version of the function, and the second, to execute a command like ",["$","code",null,{"children":"netlify build"}]," after making code changes to your application. You'll notice that after your build your function again using the second terminal, the live function app will reload automatically in the first terminal. This is great because this way your development URL stays the same."]}],["$","hr",null,{}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-2-creating-a-slack-app","children":[["$","a",null,{"className":"break-words","href":"#step-2-creating-a-slack-app","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #2: Creating a Slack app"]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"sign-up","children":[["$","a",null,{"className":"break-words","href":"#sign-up","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Sign up"]}],["$","p",null,{"children":"If you haven't already, sign up with Slack for free, create a workspace and create a channel. We'll be testing a few things in this channel, so don't go ahead and add your mates to this channel yet."}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"creating-an-app","children":[["$","a",null,{"className":"break-words","href":"#creating-an-app","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Creating an app"]}],["$","p",null,{"children":["Head over to ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://api.slack.com/apps","children":"https://api.slack.com/apps"}]," and click on the ",["$","strong",null,{"children":"Create an App"}]," button."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_k6e5VMKzAWi6LqzQBLrP-g.png","alt":"Screenshot showing how to create an app in Slack.","width":"700","height":"330"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":"When deploying this app to production, you would want to update the channel icon, description and other aspects of the app. For now, since we're only building a demo app, we'll leave those details out."}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"adding-scopes","children":[["$","a",null,{"className":"break-words","href":"#adding-scopes","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Adding scopes"]}],["$","p",null,{"children":["By default, a Slack app cannot perform any read or write functionality. To add capability, we need to add scopes to the app. From the left sidebar, select ",["$","strong",null,{"children":"OAuth & Permissions"}]," and then scroll down to the ",["$","strong",null,{"children":"Scopes"}]," section."]}],["$","p",null,{"children":["From this section, click on the ",["$","strong",null,{"children":"Add an OAuth Scope"}]," button and from the list of scopes, select ",["$","code",null,{"children":"chat:write"}],". We can always come back and add more scopes, so let's start small for now. Your changes will get saved automatically."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_G41M2tnxpzGEzwPO1RGHnA.png","alt":"Screenshot showing how to add an OAuth scope to your Slack app.","width":"704","height":"366"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["Now, let's scroll back up to the ",["$","strong",null,{"children":"OAuth Tokens for Your Workspace"}]," section and click on the ",["$","strong",null,{"children":"Install to Workspace"}]," button. You might need to accept the permissions you're being asked to grant and proceed to the next screen."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_k4GTW0YqpG9ao1K5T4PQ1Q.png","alt":"Screenshot showing how to install the Slack app in your workspace and get your bot token.","width":"698","height":"239"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["You'll now get a ",["$","strong",null,{"children":"Bot User OAuth Token"}]," after installing this app. Please copy that value as we'll need it soon."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"fetching-the-signing-secret","children":[["$","a",null,{"className":"break-words","href":"#fetching-the-signing-secret","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Fetching the signing secret"]}],["$","p",null,{"children":["Click on the ",["$","strong",null,{"children":"Basic Information"}]," tab from the left sidebar menu and scroll down to the ",["$","strong",null,{"children":"Signing Secret"}]," field. Click on the ",["$","strong",null,{"children":"Show"}]," button and then copy and save this value."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_lKOxwKapIu5AiChCHvAaNQ.png","alt":"Screenshot showing how to get the signing secret value.","width":"658","height":"166"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"injecting-these-values-into-your-app","children":[["$","a",null,{"className":"break-words","href":"#injecting-these-values-into-your-app","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Injecting these values into your app"]}],["$","p",null,{"children":["Head over to your code and create a ",["$","code",null,{"children":".env"}]," file in the root directory. This file should already be added to the ",["$","code",null,{"children":".gitignore"}]," file so don't worry about committing this change."]}],["$","p",null,{"children":["In this file, add the signing secret and bot token using the format ",["$","code",null,{"children":"key=value"}],". You can name the key whatever you like but if you're following along, name it as per the screenshot below."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_6YeJzWaqbltJmGITP4TX_A.png","alt":"Screenshot showing how to add the bot token and signing secret value in the env file of your app.","width":"1173","height":"169"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["Run the command ",["$","code",null,{"children":"npm i dotenv @types/node --save-dev"}]," to install these npm packages. The ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://www.npmjs.com/package/dotenv","children":"dotenv"}]," npm package allows us to access the values in the .env file and the ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://www.npmjs.com/package/@types/node","children":"types/node"}]," npm package provides the type definitions for node."]}],["$","$L17",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Import statements"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"import"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token keyword","children":"as"}]," dotenv ",["$","span",null,{"className":"token keyword","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'dotenv'"}],"\n"]}],["$","span",null,{"className":"code-line","children":["dotenv",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"config"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"handler"}],["$","span",null,{"className":"token punctuation","children":"("}],"event",["$","span",null,{"className":"token operator","children":":"}]," APIGatewayEvent",["$","span",null,{"className":"token punctuation","children":","}]," context",["$","span",null,{"className":"token operator","children":":"}]," Context",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["Like the code snippet above, import the dotenv package at the start of ",["$","code",null,{"children":"slackbot.ts"}]," and call the config method as early up in the file as possible. You should then be able to access the signing secret using ",["$","code",null,{"children":"process.env.SLACK_SIGNING_SECRET"}]," and the bot token using ",["$","code",null,{"children":"process.env.SLACK_BOT_TOKEN"}],"."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"environment-variables-in-netlify","children":[["$","a",null,{"className":"break-words","href":"#environment-variables-in-netlify","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Environment variables in Netlify"]}],["$","p",null,{"children":["Since the ",["$","code",null,{"children":".env"}]," file isn't added to source control, we'll need to add the same environment variables to Netlify so that the function can access these values. In Netlify, head over to ",["$","strong",null,{"children":"Site settings"}]," from the navigation menu, then select ",["$","strong",null,{"children":"Build & deploy"}]," and then from the sub-menu, select ",["$","strong",null,{"children":"Environment"}],"."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_YADT_bldPiu4w4TmICmVtg.png","alt":"Screenshot showing how to add environment variables in Netlify.","width":"840","height":"452"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["Click on the ",["$","strong",null,{"children":"New variable"}]," button and add the same key and value pairs. Click on ",["$","strong",null,{"children":"Save"}]," for the changes to take effect."]}],["$","hr",null,{}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-3-integrating-bolt-js-framework","children":[["$","a",null,{"className":"break-words","href":"#step-3-integrating-bolt-js-framework","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #3: Integrating Bolt JS framework"]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"installing-bolt","children":[["$","a",null,{"className":"break-words","href":"#installing-bolt","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Installing Bolt"]}],["$","p",null,{"children":["Bolt is a JavaScript framework to build Slack apps. Run the command ",["$","code",null,{"children":"npm install @slack/bolt --save-dev"}]," to install this framework and add the following code snippet at the beginning of the ",["$","code",null,{"children":"slackbot.ts"}]," file."]}],["$","$L17",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Import statements"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"import"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," App",["$","span",null,{"className":"token punctuation","children":","}]," ExpressReceiver ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'@slack/bolt'"}],"\n"]}]]}]}],["$","p",null,{"children":["Along with importing ",["$","code",null,{"children":"App"}],", which is Bolt's representation of a Slack App, we're importing ",["$","code",null,{"children":"ExpressReceiver"}]," because we need to integrate Bolt's event listeners with a Netlify Function."]}],["$","p",null,{"children":["Next, we'll add the following code snippet to ",["$","code",null,{"children":"slackbot.ts"}]," to initialize the ",["$","code",null,{"children":"ExpressReceiver"}]," with the signing secret we've copied earlier, and immediately after that, we'll initialize our ",["$","code",null,{"children":"App"}]," with the signing secret, bot token and the express receiver instance created before."]}],["$","$L17",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Import statements"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," expressReceiver ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"ExpressReceiver"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  signingSecret",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token string template-punctuation","children":"`"}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation interpolation-punctuation","children":"$${"}],"process",["$","span",null,{"className":"token punctuation","children":"."}],"env",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token constant","children":"SLACK_SIGNING_SECRET"}],["$","span",null,{"className":"token punctuation interpolation-punctuation","children":"}"}]]}],["$","span",null,{"className":"token string template-punctuation","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  processBeforeResponse",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," app ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"App"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  signingSecret",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token string template-punctuation","children":"`"}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation interpolation-punctuation","children":"$${"}],"process",["$","span",null,{"className":"token punctuation","children":"."}],"env",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token constant","children":"SLACK_SIGNING_SECRET"}],["$","span",null,{"className":"token punctuation interpolation-punctuation","children":"}"}]]}],["$","span",null,{"className":"token string template-punctuation","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  token",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token string template-punctuation","children":"`"}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation interpolation-punctuation","children":"$${"}],"process",["$","span",null,{"className":"token punctuation","children":"."}],"env",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token constant","children":"SLACK_BOT_TOKEN"}],["$","span",null,{"className":"token punctuation interpolation-punctuation","children":"}"}]]}],["$","span",null,{"className":"token string template-punctuation","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  receiver",["$","span",null,{"className":"token operator","children":":"}]," expressReceiver",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}]]}]}],["$","p",null,{"children":["Inside the ",["$","code",null,{"children":"handler()"}]," method, let's add the following code."]}],["$","$L17",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"handler"}],["$","span",null,{"className":"token punctuation","children":"("}],"event",["$","span",null,{"className":"token operator","children":":"}]," APIGatewayEvent",["$","span",null,{"className":"token punctuation","children":","}]," context",["$","span",null,{"className":"token operator","children":":"}]," Context",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," payload ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"parseRequestBody"}],["$","span",null,{"className":"token punctuation","children":"("}],"event",["$","span",null,{"className":"token punctuation","children":"."}],"body",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"payload ",["$","span",null,{"className":"token operator","children":"&&"}]," payload",["$","span",null,{"className":"token punctuation","children":"."}],"type ",["$","span",null,{"className":"token operator","children":"&&"}]," payload",["$","span",null,{"className":"token punctuation","children":"."}],"type ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token string","children":"'url_verification'"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      statusCode",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"200"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      body",["$","span",null,{"className":"token operator","children":":"}]," payload",["$","span",null,{"className":"token punctuation","children":"."}],"challenge",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["We're passing the contents received in the ",["$","code",null,{"children":"event.body"}]," property to a utility method that will parse this string content into a JSON object. Next, we'll get our function to fulfil a small objective — to check if the payload we received from Slack is of type ",["$","code",null,{"children":"url_verification"}]," and then simply respond back with the challenge that it received. Slack sends this type of request to verify if you've entered the correct URL endpoint for a Slack app."]}],["$","p",null,{"children":"Don't forget to add this utility function that parses the received contents into a JSON object."}],["$","$L17",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"parseRequestBody"}],["$","span",null,{"className":"token punctuation","children":"("}],"stringBody",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}]," ",["$","span",null,{"className":"token operator","children":"|"}]," ",["$","span",null,{"className":"token keyword","children":"null"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"try"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token constant","children":"JSON"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"parse"}],["$","span",null,{"className":"token punctuation","children":"("}],"stringBody ",["$","span",null,{"className":"token operator","children":"??"}]," ",["$","span",null,{"className":"token string","children":"''"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword","children":"catch"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token keyword","children":"undefined"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"handler"}],["$","span",null,{"className":"token punctuation","children":"("}],"event",["$","span",null,{"className":"token operator","children":":"}]," APIGatewayEvent",["$","span",null,{"className":"token punctuation","children":","}]," context",["$","span",null,{"className":"token operator","children":":"}]," Context",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"We'll also remove the text hello world from the function response since we no longer need that printed out."}],["$","p",null,{"children":["In the ",["$","code",null,{"children":"tsconfig.json"}]," file, we'll add the property ",["$","code",null,{"children":"“esModuleInterop”: true"}]," in the compiler options section, because without this, our build will produce errors due to other dependent packages."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"build-and-deploy-1","children":[["$","a",null,{"className":"break-words","href":"#build-and-deploy-1","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Build and deploy"]}],["$","p",null,{"children":["Now, that we've made our code changes for this step, let's run the command ",["$","code",null,{"children":"netlify build"}]," locally to compile the TypeScript file and generate the JavaScript file inside the ",["$","code",null,{"children":"netlify/functions"}]," folder."]}],["$","p",null,{"children":"Assuming there are no errors, commit your changes to your GitHub repository. This will trigger a build at Netlify and an automatic deployment."}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"comparing-code-changes-1","children":[["$","a",null,{"className":"break-words","href":"#comparing-code-changes-1","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Comparing code changes"]}],["$","p",null,{"children":["If you'd like to compare your code changes for this step, head over to ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo/commit/f1fed35591d7ac75ae9d7a4de2f93bd54da2258b","children":"this diff page"}]," on GitHub."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"completing-slacks-challenge","children":[["$","a",null,{"className":"break-words","href":"#completing-slacks-challenge","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Completing Slack's challenge"]}],["$","p",null,{"children":["Head over to the Slack API settings page for your app. Then, from the left sidebar menu, click on ",["$","strong",null,{"children":"Event Subscriptions"}],". All the different actions that can be performed in Slack are categorized into various events. Our app can subscribe to one or more of these events, so when they happen, Slack will send our app a POST request with the event details enabling our app to handle this."]}],["$","p",null,{"children":["Since this is your first time here, we'll need to enable events by flicking the toggle ",["$","strong",null,{"children":"On"}]," and then in the ",["$","strong",null,{"children":"Request URL"}]," field, enter the URL of your Netlify function. The URL of my Netlify function is",["$","br",null,{}],["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://netlify-functions-slack-demo.netlify.app/.netlify/functions/slackbot","children":"https://netlify-functions-slack-demo.netlify.app/.netlify/functions/slackbot"}]," which is what I've entered in the screenshot below."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_ZcsKdUfqvL4j39BMSiebfw.png","alt":"Screenshot showing how to enable event subscriptions and add the request URL.","width":"1099","height":"618"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["Immediately, when you enter this URL, Slack will send a ",["$","code",null,{"children":"url_verification"}]," payload to your Netlify Function and will expect your function to return the challenge. This is the scenario you made the code changes for earlier."]}],["$","p",null,{"children":["While we're here, let's subscribe to one event. Expand the ",["$","strong",null,{"children":"Subscribe to bot events"}]," section and then click on the ",["$","strong",null,{"children":"Add Bot User Event"}]," button to search for and then add ",["$","strong",null,{"children":"message.channels"}],"."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_JjXS6W6UspfJUUEsJqncsA.png","alt":"Screenshot showing how to subscribe to bot events.","width":"696","height":"321"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["After hitting the ",["$","strong",null,{"children":"Save Changes"}]," button to save your updates, you will be asked to reinstall the app in your workspace. Please do this before proceeding ahead."]}],["$","hr",null,{}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-4-receiving-and-sending-your-first-message","children":[["$","a",null,{"className":"break-words","href":"#step-4-receiving-and-sending-your-first-message","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #4: Receiving and sending your first message"]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"code-changes-1","children":[["$","a",null,{"className":"break-words","href":"#code-changes-1","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Code changes"]}],["$","p",null,{"children":["Now time for some fun stuff. Let's take a look at how your function would receive a message from Slack and reply back. In the ",["$","code",null,{"children":"slackbot.ts"}]," file, add the following snippet inside the ",["$","code",null,{"children":"handle()"}]," method. This snippet constructs a ",["$","code",null,{"children":"ReceiverEvent"}]," payload that consists of the parsed JSON body received and an ",["$","code",null,{"children":"ack()"}]," method that the function will respond with acknowledging the receipt of an event from Slack."]}],["$","$L17",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"handler"}],["$","span",null,{"className":"token punctuation","children":"("}],"event",["$","span",null,{"className":"token operator","children":":"}]," APIGatewayEvent",["$","span",null,{"className":"token punctuation","children":","}]," context",["$","span",null,{"className":"token operator","children":":"}]," Context",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," slackEvent",["$","span",null,{"className":"token operator","children":":"}]," ReceiverEvent ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    body",["$","span",null,{"className":"token operator","children":":"}]," payload",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function function-variable","children":"ack"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"response",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":[["$","span",null,{"className":"token builtin","children":"Promise"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"void"}],["$","span",null,{"className":"token operator","children":">"}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],"resolve",["$","span",null,{"className":"token punctuation","children":","}]," reject",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token function","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          statusCode",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"200"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          body",["$","span",null,{"className":"token operator","children":":"}]," response ",["$","span",null,{"className":"token operator","children":"??"}]," ",["$","span",null,{"className":"token string","children":"''"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"await"}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"processEvent"}],["$","span",null,{"className":"token punctuation","children":"("}],"slackEvent",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["We're then passing this ",["$","code",null,{"children":"ReceiverEvent"}]," object into Bolt's ",["$","code",null,{"children":"processEvent()"}]," method. The ",["$","code",null,{"children":"processEvent()"}]," method will detect the type of event received and will pass the control to the relevant method."]}],["$","p",null,{"children":["Next, let's add the ",["$","code",null,{"children":"message()"}]," method in the ",["$","code",null,{"children":"slackbot.ts"}]," file to process any incoming messages and reply with “Hi 👋”."]}],["$","$L17",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Import statements"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"message"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," say ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"await"}]," ",["$","span",null,{"className":"token function","children":"say"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'Hi :wave:'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"handler"}],["$","span",null,{"className":"token punctuation","children":"("}],"event",["$","span",null,{"className":"token operator","children":":"}]," APIGatewayEvent",["$","span",null,{"className":"token punctuation","children":","}]," context",["$","span",null,{"className":"token operator","children":":"}]," Context",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"comparing-your-code","children":[["$","a",null,{"className":"break-words","href":"#comparing-your-code","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Comparing your code"]}],["$","p",null,{"children":["If you'd like to compare your code changes for this step, head over to ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo/commit/b66bf0e4b6bb1474c6fcfcf6c5401c70cc0c9711","children":"this diff page"}]," on GitHub."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"build-and-deploy-2","children":[["$","a",null,{"className":"break-words","href":"#build-and-deploy-2","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Build and deploy"]}],["$","p",null,{"children":"Commit your changes and push them to GitHub so it gets automatically built and deployed."}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"testing-your-changes-in-slack","children":[["$","a",null,{"className":"break-words","href":"#testing-your-changes-in-slack","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Testing your changes in Slack"]}],["$","p",null,{"children":"It's time to now test the functionality out in a Slack channel. Add the Demo app to your Slack channel. This is important because your app wouldn't have access to read the messages posted in a channel that the app isn't part of. Immediately after posting a message in the channel, your function should receive a payload from Slack and respond with a message."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_uR30gk6xOOX7hK_PUVDXUg.png","alt":"Screenshot showing the demo Slack app in action.","width":"337","height":"116"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"replying-to-a-thread-and-adding-emoji-reactions","children":[["$","a",null,{"className":"break-words","href":"#replying-to-a-thread-and-adding-emoji-reactions","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Replying to a thread and adding emoji reactions"]}],["$","p",null,{"children":["For the sake of brevity, I won't go into the details of getting your Slack app to reply to a thread and adding an emoji reaction. Instead, I'll leave you with ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo/commit/3bc26c5a06d619a60b93ac40d82394ed000160dd","children":"this diff page"}]," on GitHub to see the changes you need to make to get your Slack app to reply to a thread, and ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo/commit/82dfa348d5b0fd0f8f2b4ac2e4f0e1b364cf4f53","children":"this diff page"}]," on GitHub to see the code changes required to get your Slack app to reply with an emoji. Note, for adding a reaction, you'll additionally need the ",["$","strong",null,{"children":"reactions:write"}]," scope."]}],["$","hr",null,{}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-5-bolt-with-slash-commands","children":[["$","a",null,{"className":"break-words","href":"#step-5-bolt-with-slash-commands","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #5: Bolt with slash commands"]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"creating-a-slash-command","children":[["$","a",null,{"className":"break-words","href":"#creating-a-slash-command","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Creating a slash command"]}],["$","p",null,{"children":["Head over to the Slack API settings page for your app and select ",["$","strong",null,{"children":"Slash Commands"}]," from the left sidebar menu. From the screen presented, click on the ",["$","strong",null,{"children":"Create New Command"}]," button."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_KSnKMXrlFMB55QTDMd8Xzw.png","alt":"Screenshot showing how to create a new slash command in Slack.","width":"703","height":"293"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["Slash commands, as the name suggests, are prefixed with a forward slash, followed by the command name and optionally, some arguments. So, for instance, you can have a slash command like ",["$","code",null,{"children":"/greet morning"}]," where you're expecting a morning themed greeting. You could also have a slash command without the argument, so something like ",["$","code",null,{"children":"/greet"}]," that sends you a random greeting. Remember, your command name must be unique across all apps and also preferably short — so choose wisely!"]}],["$","p",null,{"children":["From the ",["$","strong",null,{"children":"Create New Command"}]," screen, enter the command name which should be prefixed with the forward slash, enter the Netlify Function URL in the ",["$","strong",null,{"children":"Request URL"}]," field, type in a short description so users have an idea of what this command does, and optionally, type in a parameter in the ",["$","strong",null,{"children":"Usage Hint"}]," field if your slash command is expecting one."]}],["$","p",null,{"children":["We'll leave the ",["$","strong",null,{"children":"Escape channels, users, and links sent to your app"}]," checkbox unchecked since our slash command doesn't need user ids and channel ids at this stage, so a plain text unescaped string is fine."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_XawsiXDpk5Ksjz4Bw1zvXQ.png","alt":"Screenshot showing how to create a new slash command in Slack.","width":"581","height":"611"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":"Save your changes and then reinstall the app in your workspace."}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"code-changes-2","children":[["$","a",null,{"className":"break-words","href":"#code-changes-2","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Code changes"]}],["$","p",null,{"children":["Let's add another method to listen for this slash command and respond to it. In the code snippet below, the first parameter of the ",["$","code",null,{"children":"command()"}]," method is the slash command name, and in the second parameter, we're going to use object destructuring to accept only the ",["$","code",null,{"children":"body"}]," and the ",["$","code",null,{"children":"ack"}]," object. When responding to a slash command, our app must send an acknowledgement to Slack within three seconds before sending the actual message back. The ",["$","code",null,{"children":"ack"}]," object is the acknowledgement function."]}],["$","$L17",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Import statements"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"command"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'/greet'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," body",["$","span",null,{"className":"token punctuation","children":","}]," ack ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token function","children":"ack"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"await"}]," app",["$","span",null,{"className":"token punctuation","children":"."}],"client",["$","span",null,{"className":"token punctuation","children":"."}],"chat",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"postEphemeral"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    token",["$","span",null,{"className":"token operator","children":":"}]," process",["$","span",null,{"className":"token punctuation","children":"."}],"env",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token constant","children":"SLACK_BOT_TOKEN"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    channel",["$","span",null,{"className":"token operator","children":":"}]," body",["$","span",null,{"className":"token punctuation","children":"."}],"channel_id",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    text",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'Greetings, user!'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    user",["$","span",null,{"className":"token operator","children":":"}]," body",["$","span",null,{"className":"token punctuation","children":"."}],"user_id",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"handler"}],["$","span",null,{"className":"token punctuation","children":"("}],"event",["$","span",null,{"className":"token operator","children":":"}]," APIGatewayEvent",["$","span",null,{"className":"token punctuation","children":","}]," context",["$","span",null,{"className":"token operator","children":":"}]," Context",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["Next, we're calling the ",["$","code",null,{"children":"chat.postEphemeral()"}]," method to send a reply back to Slack. The reply sent using the ",["$","code",null,{"children":"postEphemeral()"}]," method can be seen only by the user who triggered this slash command, hence why we're passing the user id in the method. Of course, you can still continue using the regular ",["$","code",null,{"children":"say()"}]," or ",["$","code",null,{"children":"chat.postMessage()"}]," to reply back with a message that everyone can see."]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","strong",null,{"children":"Tip:"}]," The property ",["$","code",null,{"children":"body.text"}]," will contain the slack command name. So, if your command goes like ",["$","code",null,{"children":"/greet morning"}],", then ",["$","code",null,{"children":"body.text"}]," will contain ",["$","code",null,{"children":"morning"}],". The property ",["$","code",null,{"children":"body.channel_name"}]," will contain the value ",["$","code",null,{"children":"directmessage"}]," when this slash command is triggered via a direct message to the app."]}]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"commit-build-and-deployment","children":[["$","a",null,{"className":"break-words","href":"#commit-build-and-deployment","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Commit, build and deployment"]}],["$","p",null,{"children":"Commit your changes and push them up to GitHub. After a successful build and deployment at Netlify, we'll move on to testing our slash command."}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"testing-it-out-in-slack","children":[["$","a",null,{"className":"break-words","href":"#testing-it-out-in-slack","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Testing it out in Slack"]}],["$","p",null,{"children":"In your Slack channel, use the lightning bolt icon to bring up a pop-up and then search for your command name. Once the command name is entered in the input box, hit enter."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_M-4FakQ_pVdu-AJigztRIQ.png","alt":"Screenshot showing how to test the slash command in Slack.","width":"420","height":"190"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":"Unfortunately, this time you'd get an error."}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"troubleshooting","children":[["$","a",null,{"className":"break-words","href":"#troubleshooting","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Troubleshooting"]}],["$","p",null,{"children":["The easiest thing to do is to add a ",["$","code",null,{"children":"console.log()"}]," statement in the ",["$","code",null,{"children":"handler()"}]," method to inspect the event object contents received. Of course, this time, you wouldn't want to push the changes to Netlify, but instead, you would want to troubleshoot this locally."]}],["$","p",null,{"children":["This means running the command ",["$","code",null,{"children":"netlify dev --live"}]," to get a local instance of the function app working which is publicly accessible and then updating the slash command's ",["$","strong",null,{"children":"Request URL"}]," field to use this URL. Then trigger the slash command again and jump back into your terminal window to see the output."]}],["$","p",null,{"children":["You would observe that the event object contains a lot of data for this event but if you put a ",["$","code",null,{"children":"console.log()"}]," method after the ",["$","code",null,{"children":"parseRequestBody()"}]," method, you'll notice that the payload is undefined. Now, if you compare the contents in the ",["$","code",null,{"children":"event.body"}]," property of the slash command with the contents received in the ",["$","code",null,{"children":"event.body"}]," property of a message in the channel, you'll notice a major difference in the format."]}],["$","p",null,{"children":["The slash command's ",["$","code",null,{"children":"event.body"}]," property will contain a message in this format:"]}],["$","$L17",null,{"className":"language-js","children":["$","code",null,{"className":"code-highlight language-js","children":["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"body"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'token=some_token&team_id=your_team_id&team_domain=your_workspace'"}],"\n"]}]}]}],["$","p",null,{"children":["While the ",["$","code",null,{"children":"event.body"}]," property of a regular message in the channel will be of this format:"]}],["$","$L17",null,{"className":"language-js","children":["$","code",null,{"className":"code-highlight language-js","children":["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"body"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'{\"token\":\"some_token\",\"team_id\":\"your_team_id\",\"api_app_id\":\"your_api_id\"}'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}]}]}],["$","p",null,{"children":["The former is a query string format while the latter is a JSON string format. This means, that we'll need our ",["$","code",null,{"children":"parseRequestBody()"}]," method to handle both scenarios."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"fixes","children":[["$","a",null,{"className":"break-words","href":"#fixes","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Fixes"]}],["$","p",null,{"children":["Luckily, the ",["$","code",null,{"children":"event.headers[“content-type”]"}]," property contains a different value in both of the scenarios. For a regular message event, ",["$","code",null,{"children":"event.headers[“content-type”]"}]," is ",["$","code",null,{"children":"application/json"}]," while for a slash command event, ",["$","code",null,{"children":"event.headers[“content-type”]"}]," is ",["$","code",null,{"children":"application/x-www-form-urlencoded"}],"."]}],["$","p",null,{"children":["Let's update our ",["$","code",null,{"children":"parseRequestBody()"}]," method to accept this content type value as the second parameter and update the code inside this method to convert a string of the format query string to a JSON object."]}],["$","$L17",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Import statements"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"parseRequestBody"}],["$","span",null,{"className":"token punctuation","children":"("}],"stringBody",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}]," ",["$","span",null,{"className":"token operator","children":"|"}]," ",["$","span",null,{"className":"token keyword","children":"null"}],["$","span",null,{"className":"token punctuation","children":","}]," contentType",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}]," ",["$","span",null,{"className":"token operator","children":"|"}]," ",["$","span",null,{"className":"token keyword","children":"undefined"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"try"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"let"}]," inputStringBody",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}]," ",["$","span",null,{"className":"token operator","children":"="}]," stringBody ",["$","span",null,{"className":"token operator","children":"??"}]," ",["$","span",null,{"className":"token string","children":"''"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"let"}]," result",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"any"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"contentType ",["$","span",null,{"className":"token operator","children":"&&"}]," contentType ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token string","children":"'application/x-www-form-urlencoded'"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token keyword","children":"var"}]," keyValuePairs ",["$","span",null,{"className":"token operator","children":"="}]," inputStringBody",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"split"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'&'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      keyValuePairs",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"forEach"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"pair",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"let"}]," individualKeyValuePair",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"="}]," pair",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"split"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'='"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        result",["$","span",null,{"className":"token punctuation","children":"["}],"individualKeyValuePair",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"decodeURIComponent"}],["$","span",null,{"className":"token punctuation","children":"("}],"individualKeyValuePair",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"||"}]," ",["$","span",null,{"className":"token string","children":"''"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token constant","children":"JSON"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"parse"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token constant","children":"JSON"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"stringify"}],["$","span",null,{"className":"token punctuation","children":"("}],"result",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword","children":"else"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token constant","children":"JSON"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"parse"}],["$","span",null,{"className":"token punctuation","children":"("}],"inputStringBody",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword","children":"catch"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token keyword","children":"undefined"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"handler"}],["$","span",null,{"className":"token punctuation","children":"("}],"event",["$","span",null,{"className":"token operator","children":":"}]," APIGatewayEvent",["$","span",null,{"className":"token punctuation","children":","}]," context",["$","span",null,{"className":"token operator","children":":"}]," Context",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["Many thanks to this ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://www.developerdrive.com/turning-the-querystring-into-a-json-object-using-javascript/","children":"source"}]," for the code snippet that converts query string to JSON."]}],["$","p",null,{"children":["Now, in the ",["$","code",null,{"children":"handler()"}]," method, let's update the ",["$","code",null,{"children":"parseRequestBody()"}]," method to pass the content type value as well."]}],["$","$L17",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"handler"}],["$","span",null,{"className":"token punctuation","children":"("}],"event",["$","span",null,{"className":"token operator","children":":"}]," APIGatewayEvent",["$","span",null,{"className":"token punctuation","children":","}]," context",["$","span",null,{"className":"token operator","children":":"}]," Context",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," payload ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"parseRequestBody"}],["$","span",null,{"className":"token punctuation","children":"("}],"event",["$","span",null,{"className":"token punctuation","children":"."}],"body",["$","span",null,{"className":"token punctuation","children":","}]," event",["$","span",null,{"className":"token punctuation","children":"."}],"headers",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'content-type'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"// Code omitted for brevity"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"code-changes-for-this-step","children":[["$","a",null,{"className":"break-words","href":"#code-changes-for-this-step","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Code changes for this step"]}],["$","p",null,{"children":["If you'd like to compare your code changes for this step, head over to ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo/commit/76ff0f2efc268faf65e8e67884eb85389211bf7c","children":"this diff page"}]," on GitHub."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"build-and-deploy-3","children":[["$","a",null,{"className":"break-words","href":"#build-and-deploy-3","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Build and deploy"]}],["$","p",null,{"children":"Commit all your changes and push them up to your GitHub repository. After a successful build and deployment, proceed to the next step."}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"test-it-out-in-slack","children":[["$","a",null,{"className":"break-words","href":"#test-it-out-in-slack","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Test it out in Slack"]}],["$","p",null,{"children":"It's time to test the slash command once again. This time, you should get a reply back from the app and this message will only be visible to you."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_OZ9AvbT9na62azw7nqzG4g.png","alt":"Screenshot showing the demo Slack app in action.","width":"205","height":"80"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"other-slack-interactions-and-events","children":[["$","a",null,{"className":"break-words","href":"#other-slack-interactions-and-events","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Other Slack interactions and events"]}],["$","p",null,{"children":"While I've covered two different events above in the form of general messaging and slash commands, there's still plenty of Slack events and interactions we could look at. However, you'll find that the remainder can be achieved by repeating the steps above in some shape or form. Hence, for the scope of this article, I'm not going to demo any more scenarios."}],["$","hr",null,{}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"tidying-up-your-code-and-conclusion","children":[["$","a",null,{"className":"break-words","href":"#tidying-up-your-code-and-conclusion","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Tidying up your code and conclusion"]}],["$","p",null,{"children":["While the above is just demo code, there's a lot of scope to tidy it up further. ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo","children":"This"}]," is my version of what I'd like the production-ready source code to look like, but you're free to clean the code up based on your preference. Here are some highlights of what I updated:"]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"refactoring-and-unit-testing","children":[["$","a",null,{"className":"break-words","href":"#refactoring-and-unit-testing","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Refactoring and unit testing"]}],["$","p",null,{"children":["I've extracted out code into ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo/pull/1/files#diff-39b2554fd18da165b59a6351b1aafff3714e2a80c1435f2de9706355b4d32351","children":"individual methods"}]," where possible and made use of multiple TypeScript files. I've then ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo/pull/1/files#diff-c37842b08434952211c06ad3cdc71258303dcce7491a2b5f2005876cfbc26681","children":"added unit tests"}]," for this code and ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo/commit/3b5ccd0504511bbf95b2bb1e05f3fabe23d078f6#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519R8","children":"updated the build command"}]," to run these unit tests before compiling the files. Note, you don't want to test Bolt's code since that would've already been tested by their team. You only want to test the code your adding."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"types","children":[["$","a",null,{"className":"break-words","href":"#types","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Types"]}],["$","p",null,{"children":["I've gone ahead and added types for variables, methods and method parameters. In some cases, I've created a ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo/pull/1/files#diff-8fa4b52909f895e8cda060d2035234e0a42ca2c7d3f8f8de1b35a056537bf199R23-R25","children":"custom type"}]," to simplify things a bit."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"exposing-only-the-function-you-need","children":[["$","a",null,{"className":"break-words","href":"#exposing-only-the-function-you-need","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Exposing only the function you need"]}],["$","p",null,{"children":["You would notice that I've moved the ",["$","code",null,{"children":"slackbot.ts"}]," file into a folder named ",["$","code",null,{"children":"functions"}]," while the other files are still under the ",["$","code",null,{"children":"src"}]," folder. I've also updated the ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/netlify-functions-slack-demo/pull/1/files#diff-b55cdbef4907b7045f32cc5360d48d262cca5f94062e353089f189f4460039e0R7","children":"output directory"}]," in the ",["$","code",null,{"children":"tsconfig.json"}]," file to place the compiled JavaScript files into the ",["$","code",null,{"children":"./netlify"}]," directory, and since the TypeScript compiler will maintain the folder structure, it will automatically create the ",["$","code",null,{"children":"functions"}]," folder inside the ",["$","code",null,{"children":"netlify"}]," folder before placing the compiled ",["$","code",null,{"children":"slackbot.js"}]," file in there."]}],["$","p",null,{"children":["Since, by default, Netlify will serve functions only from the ",["$","code",null,{"children":"netlify/functions"}]," folder, it will now only expose ",["$","code",null,{"children":"slackbot.js"}]," keeping ",["$","code",null,{"children":"utils.js"}]," and ",["$","code",null,{"children":"constants.js"}]," under the hood. The diagram below visually illustrates this process."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_4zJo1mveRxgzSHlR0UArTA.png","alt":"Screenshot illustrating the directory change in the cleaned-up version of the source code.","width":"11126","height":"3088"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["In the demo version of this code, both ",["$","code",null,{"children":"utils.js"}]," and ",["$","code",null,{"children":"constants.js"}]," files were placed in the ",["$","code",null,{"children":"functions"}]," folder. This means when you try to access the utils file via the functions URL, it will throw an error."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"distributing-your-app","children":[["$","a",null,{"className":"break-words","href":"#distributing-your-app","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Distributing your app"]}],["$","p",null,{"children":["The demo app built in this how-to guide is used in a single workspace. If you'd like to use your app in multiple workspaces or distribute your app via the App Directory to a larger audience, then you may have to follow ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://api.slack.com/start/distributing","children":"this article"}]," to see what changes you might need to make to your app."]}],["$","p",null,{"children":"That's it! Thanks for reading."}]]}],["$","div",null,{"className":"pt-6 pb-6 text-center text-gray-700 dark:text-gray-300","id":"comment","children":["$","$L18",null,{"slug":"creating-a-slack-bot-using-netlify-functions"}]}]]}],["$","$L19",null,{"content":"$c:1:props:children:1:props:children:0:props:content","authorDetails":[{"name":"Clyde D'Souza","avatar":"/static/images/clydedsouza.jpg","occupation":"Senior Software Engineer. Digital Content Creator.","bio":"Hi, I'm Clyde. I'm a software engineer and digital content creator based in Auckland, New Zealand. I write about various technologies, teach online classes, make videos, and I'm also the author of a children's bedtime storybook!","email":"address@yoursite.com","twitter":"https://twitter.com/clydedz","linkedin":"https://www.linkedin.com/in/clydedz/","github":"https://github.com/clydedz","kofi":"https://ko-fi.com/L3L026ITT","type":"Authors","readingTime":{"text":"1 min read","minutes":0.18,"time":10800,"words":36},"slug":"default","path":"authors/default","filePath":"authors/default.mdx","toc":[]}],"next":{"title":"The Mysterious Bright Light","date":"2021-05-19T00:00:00.000Z","tags":["Short Stories","Love","Unconditional Love","Life","Relationships"],"readingList":["Unconditional Love","Short Stories"],"lastmod":"2021-05-19T00:00:00.000Z","draft":false,"subtitle":"Would you lie to save the life of your loved one?","images":["/static/posts/uclove.png"],"type":"Blog","readingTime":{"text":"10 min read","minutes":9.78,"time":586800,"words":1956},"slug":"the-mysterious-bright-light","path":"posts/the-mysterious-bright-light","filePath":"posts/the-mysterious-bright-light.mdx","toc":[],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"The Mysterious Bright Light","datePublished":"2021-05-19T00:00:00.000Z","dateModified":"2021-05-19T00:00:00.000Z","description":"Would you lie to save the life of your loved one?","image":"/static/posts/uclove.png","url":"https://blog.clydedsouza.net/posts/the-mysterious-bright-light"}},"prev":{"title":"Formatting Your eBook Using Kindle Create","date":"2021-04-22T00:00:00.000Z","tags":["eBook","Kindle Create","Writing Tips","Kindle Direct Publishing","Self Publishing","Amazon Kdp"],"readingList":["Book Publishing Guide"],"lastmod":"2021-04-22T00:00:00.000Z","draft":false,"subtitle":"Demystifying the process of making your eBook readable on various device types","images":["/static/posts/kindlecreate.png"],"type":"Blog","readingTime":{"text":"20 min read","minutes":19.36,"time":1161600,"words":3872},"slug":"formatting-your-ebook-using-kindle-create","path":"posts/formatting-your-ebook-using-kindle-create","filePath":"posts/formatting-your-ebook-using-kindle-create.mdx","toc":[{"value":"Preface","url":"#preface","depth":3},{"value":"Section 1: Formatting your manuscript using Word","url":"#section-1-formatting-your-manuscript-using-word","depth":3},{"value":"General formatting advise","url":"#general-formatting-advise","depth":4},{"value":"Book title, subtitle and author's name","url":"#book-title-subtitle-and-authors-name","depth":4},{"value":"Page breaks","url":"#page-breaks","depth":4},{"value":"Copyright text","url":"#copyright-text","depth":4},{"value":"Chapter titles","url":"#chapter-titles","depth":4},{"value":"Manuscript body","url":"#manuscript-body","depth":4},{"value":"Table of contents","url":"#table-of-contents","depth":4},{"value":"Section 2: Kindle Create","url":"#section-2-kindle-create","depth":3},{"value":"Installing the software","url":"#installing-the-software","depth":4},{"value":"Creating a project","url":"#creating-a-project","depth":4},{"value":"Navigating around","url":"#navigating-around","depth":4},{"value":"Formatting the first page","url":"#formatting-the-first-page","depth":4},{"value":"Formatting the copyrights page","url":"#formatting-the-copyrights-page","depth":4},{"value":"Formatting the rest of the manuscript","url":"#formatting-the-rest-of-the-manuscript","depth":4},{"value":"Remember to always save your changes","url":"#remember-to-always-save-your-changes","depth":4},{"value":"Previewing your eBook","url":"#previewing-your-ebook","depth":4},{"value":"Publish","url":"#publish","depth":4},{"value":"Section 3: Kindle Direct Publishing","url":"#section-3-kindle-direct-publishing","depth":3},{"value":"Alternatives to Kindle Create","url":"#alternatives-to-kindle-create","depth":3},{"value":"Conclusion","url":"#conclusion","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"Formatting Your eBook Using Kindle Create","datePublished":"2021-04-22T00:00:00.000Z","dateModified":"2021-04-22T00:00:00.000Z","description":"Demystifying the process of making your eBook readable on various device types","image":"/static/posts/kindlecreate.png","url":"https://blog.clydedsouza.net/posts/formatting-your-ebook-using-kindle-create"}},"children":"$c:1:props:children:1:props:children:1:props:children:0:props:children:0:props:children"}]]}]]}]]}]]
11:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
e:null
f:null
13:[["$","title","0",{"children":"Creating a Slack Bot Using Netlify Functions | Clyde's Blog"}],["$","meta","1",{"name":"description","content":"Written in TypeScript, using Bolt JS framework and sprinkled with developer tips along the way"}],["$","meta","2",{"name":"robots","content":"index, follow"}],["$","meta","3",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","4",{"rel":"canonical","href":"https://blog.clydedsouza.net/posts/creating-a-slack-bot-using-netlify-functions"}],["$","link","5",{"rel":"alternate","type":"application/rss+xml","href":"https://blog.clydedsouza.net/feed.xml"}],["$","meta","6",{"property":"og:title","content":"Creating a Slack Bot Using Netlify Functions"}],["$","meta","7",{"property":"og:description","content":"Written in TypeScript, using Bolt JS framework and sprinkled with developer tips along the way"}],["$","meta","8",{"property":"og:url","content":"https://blog.clydedsouza.net/posts/creating-a-slack-bot-using-netlify-functions"}],["$","meta","9",{"property":"og:site_name","content":"Clyde's Blog"}],["$","meta","10",{"property":"og:locale","content":"en_US"}],["$","meta","11",{"property":"og:image","content":"https://blog.clydedsouza.net/static/posts/slackbot.png"}],["$","meta","12",{"property":"og:type","content":"article"}],["$","meta","13",{"property":"article:published_time","content":"2021-04-25T00:00:00.000Z"}],["$","meta","14",{"property":"article:modified_time","content":"2021-04-25T00:00:00.000Z"}],["$","meta","15",{"property":"article:author","content":"Clyde D'Souza"}],["$","meta","16",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","17",{"name":"twitter:title","content":"Creating a Slack Bot Using Netlify Functions"}],["$","meta","18",{"name":"twitter:description","content":"Written in TypeScript, using Bolt JS framework and sprinkled with developer tips along the way"}],["$","meta","19",{"name":"twitter:image","content":"https://blog.clydedsouza.net/static/posts/slackbot.png"}]]
