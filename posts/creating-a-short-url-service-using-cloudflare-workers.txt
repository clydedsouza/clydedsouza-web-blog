1:"$Sreact.fragment"
2:I[2947,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-4a405a84b86a141c.js"],"RegisterAnalytics"]
3:I[446,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-4a405a84b86a141c.js"],"ThemeProviders"]
4:I[9243,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-4a405a84b86a141c.js"],""]
5:I[7392,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-4a405a84b86a141c.js"],"KBarSearchProvider"]
6:I[6874,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],""]
7:I[3063,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"Image"]
8:I[4159,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-4a405a84b86a141c.js"],"KBarButton"]
9:I[7773,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-4a405a84b86a141c.js"],"default"]
a:I[7555,[],""]
b:I[1295,[],""]
d:I[9665,[],"OutletBoundary"]
10:I[9665,[],"ViewportBoundary"]
12:I[9665,[],"MetadataBoundary"]
14:I[6614,[],""]
:HL["/_next/static/media/e4af272ccee01ff0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/991d5e3381d79286.css","style"]
:HL["/_next/static/css/37f456282b5838dd.css","style"]
:HL["/_next/static/css/a821df72551a909a.css","style"]
:HL["/_next/static/css/252e266d7553d403.css","style"]
0:{"P":null,"b":"eR4HhPgTjlmK0gPP5df-6","p":"","c":["","posts","creating-a-short-url-service-using-cloudflare-workers"],"i":false,"f":[[["",{"children":["posts",{"children":[["slug","creating-a-short-url-service-using-cloudflare-workers","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/991d5e3381d79286.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/37f456282b5838dd.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en-us","className":"__variable_93ed5b scroll-smooth","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"apple-touch-icon","sizes":"76x76","href":"/static/favicons/apple-touch-icon-76x76.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/static/favicons/apple-touch-icon-57x57.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/static/favicons/apple-touch-icon-57x57.png"}],["$","link",null,{"rel":"manifest","href":"/static/favicons/site.webmanifest"}],["$","link",null,{"rel":"mask-icon","href":"/static/favicons/apple-touch-icon-120x120.png","color":"#10984d"}],["$","meta",null,{"name":"google-adsense-account","content":"ca-pub-4666761687967451"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#10984d"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"#10984d"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"#10984d"}],["$","link",null,{"rel":"alternate","type":"application/rss+xml","href":"/feed.xml"}],["$","body",null,{"className":"bg-white text-black antialiased dark:bg-gray-950 dark:text-white","children":[["$","script",null,{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4666761687967451","crossOrigin":"anonymous"}],["$","$L2",null,{}],["$","$L3",null,{"children":[["$undefined",[["$","$L4",null,{"strategy":"lazyOnload","id":"sa-script","children":"\n            window.sa_event=window.sa_event||function(){var a=[].slice.call(arguments);window.sa_event.q?window.sa_event.q.push(a):window.sa_event.q=[a]};\n        "}],["$","$L4",null,{"strategy":"lazyOnload","src":"https://scripts.simpleanalyticscdn.com/latest.js"}]],"$undefined","$undefined","$undefined","$undefined"],["$","$L5",null,{"kbarConfig":{"searchDocumentsPath":"/search.json"},"children":[["$","header",null,{"className":"border-t-primary-500 sticky top-0 z-50 flex h-14 w-full items-center justify-between border-t-4 bg-white/95 px-8 py-4 backdrop-blur-lg dark:bg-gray-950","children":[["$","$L6",null,{"className":"break-words","href":"/","aria-label":"Clyde's Blog","children":["$","div",null,{"className":"flex items-center justify-between","children":[["$","div",null,{"className":"mr-3","children":["$","$L7",null,{"src":"/static/images/clydedsouza.jpg","width":35,"height":35,"style":{"borderRadius":"100px"},"priority":true,"alt":"Picture of the author"}]}],["$","div",null,{"className":"hidden text-xl font-semibold md:block","children":"Clyde's Blog"}]]}]}],["$","div",null,{"className":"flex items-center space-x-4 leading-5 sm:-mr-6 sm:space-x-6","children":[["$","$L8",null,{"aria-label":"Search","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","className":"hover:text-primary-500 dark:hover:text-primary-400 h-6 w-6 text-gray-900 dark:text-gray-100","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}]}]}],["$","div",null,{"className":"no-scrollbar hidden max-w-80 items-center gap-x-4 overflow-x-auto sm:flex md:max-w-72 lg:max-w-96","children":[["$","$L6","All posts",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 text-sm font-medium text-gray-900 dark:text-gray-100","href":"/posts","children":"All posts"}]]}],["$","a",null,{"className":"flex items-center justify-center gap-4 rounded-full bg-black px-2 py-1 text-sm text-white transition-colors duration-200 hover:bg-teal-500 focus:bg-teal-500 sm:px-4 sm:py-2 dark:bg-teal-500 dark:hover:bg-black dark:focus:bg-black","target":"_blank","rel":"noopener noreferrer","href":"https://clydedsouza.net","children":["$","span",null,{"className":"whitespace-nowrap","children":"Visit my website"}]}],false,["$","$L9",null,{}]]}]]}],["$","main",null,{"className":"mb-auto","children":["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","section",null,{"className":"mx-auto max-w-7xl px-2 sm:px-6 xl:max-w-7xl xl:px-0","children":[["$","h1",null,{"className":"py-6 text-5xl font-extrabold tracking-tight text-gray-900 sm:text-5xl sm:leading-10 md:text-5xl md:leading-14 dark:text-gray-100","children":"Sorry, this page doesn't exist."}],["$","div",null,{"className":"flex w-full flex-wrap","children":"Try heading to the homepage for a fresh start or using the search above to look for content."}],["$","div",null,{"className":"my-6 flex w-full flex-wrap","children":["$","$L6",null,{"className":"bg-primary-500 flex items-center justify-center gap-4 rounded-full px-4 py-2 text-white transition-colors duration-200 hover:bg-slate-800 focus:bg-slate-800 sm:px-8 sm:py-2","href":"/","children":"Back to homepage"}]}]]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],["$","footer",null,{"children":["$","div",null,{"className":"mt-6 flex flex-col items-center","children":[["$","div",null,{"className":"mb-3 flex space-x-4","children":[["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"mailto:clyde@clydedsouza.net","children":[["$","span",null,{"className":"sr-only","children":"mail"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 20 20","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Mail"}],["$","path",null,{"d":"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}],["$","path",null,{"d":"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz","children":[["$","span",null,{"className":"sr-only","children":"github"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"GitHub"}],["$","path",null,{"d":"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}]]}]]}],null,["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://www.youtube.com/@clydedz","children":[["$","span",null,{"className":"sr-only","children":"youtube"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Youtube"}],["$","path",null,{"d":"M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://www.linkedin.com/in/clydedz/","children":[["$","span",null,{"className":"sr-only","children":"linkedin"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Linkedin"}],["$","path",null,{"d":"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"}]]}]]}],null,null,["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://twitter.com/clydedz","children":[["$","span",null,{"className":"sr-only","children":"x"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"X"}],["$","path",null,{"d":"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"}]]}]]}],null,null,null]}],["$","div",null,{"className":"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400","children":[["$","div",null,{"children":["Copyright ©"," ",["$","a",null,{"className":"hover:text-primary-500 cursor-pointer hover:underline","target":"_blank","rel":"noopener noreferrer","href":"https://clydedsouza.net","children":"Clyde D'Souza"}]," ",2025,"."]}],["$","div",null,{"children":"All rights reserved."}]]}],["$","div",null,{"className":"mb-8 text-sm text-gray-500 dark:text-gray-400","children":["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/timlrx/tailwind-nextjs-starter-blog","children":"Thanks to this blog theme"}]}]]}]}]]}]]}]]}]]}],{"children":["posts",["$","$1","c",{"children":[null,["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","creating-a-short-url-service-using-cloudflare-workers","c"],["$","$1","c",{"children":[null,["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Lc","$undefined",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/a821df72551a909a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/252e266d7553d403.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$Ld",null,{"children":["$Le","$Lf",null]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","g1AP88ExGakRUy_h9nVSB",{"children":[["$","$L10",null,{"children":"$L11"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],["$","$L12",null,{"children":"$L13"}]]}],false]],"m":"$undefined","G":["$14","$undefined"],"s":false,"S":true}
15:I[3428,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
16:I[1130,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"PostHeader"]
17:I[2100,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
18:I[1954,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
19:I[3926,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"PostAside"]
c:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"Creating a Short URL Service Using Cloudflare Workers\",\"datePublished\":\"2022-01-27T00:00:00.000Z\",\"dateModified\":\"2022-01-27T00:00:00.000Z\",\"description\":\"Deploy serverless code instantly across the globe\",\"image\":\"/static/posts/guidepost1.jpg\",\"url\":\"https://blog.clydedsouza.net/posts/creating-a-short-url-service-using-cloudflare-workers\",\"author\":[{\"@type\":\"Person\",\"name\":\"Clyde D'Souza\"}]}"}}],["$","section",null,{"className":"mx-auto max-w-7xl px-2 sm:px-6 xl:max-w-7xl xl:px-0","children":[["$","$L15",null,{}],["$","article",null,{"className":"xl:dark:divide-gray-700","children":[["$","$L16",null,{"content":{"title":"Creating a Short URL Service Using Cloudflare Workers","date":"2022-01-27T00:00:00.000Z","tags":["Cloudflare Workers","Cloudflare","Software Development","Serverless Architecture","Serverless Computing"],"readingList":["Cloudflare"],"lastmod":"2022-01-27T00:00:00.000Z","draft":false,"subtitle":"Deploy serverless code instantly across the globe","images":["/static/posts/guidepost1.jpg"],"type":"Blog","readingTime":{"text":"13 min read","minutes":12.61,"time":756600,"words":2522},"slug":"creating-a-short-url-service-using-cloudflare-workers","path":"posts/creating-a-short-url-service-using-cloudflare-workers","filePath":"posts/creating-a-short-url-service-using-cloudflare-workers.mdx","toc":[{"value":"Introduction","url":"#introduction","depth":3},{"value":"What are Cloudflare Workers?","url":"#what-are-cloudflare-workers","depth":3},{"value":"Step #1: Sign up for Cloudflare","url":"#step-1-sign-up-for-cloudflare","depth":3},{"value":"Step #2: Set up your development environment","url":"#step-2-set-up-your-development-environment","depth":3},{"value":"Step #3: Generate some code","url":"#step-3-generate-some-code","depth":3},{"value":"Step #4: Get a short URL and redirect","url":"#step-4-get-a-short-url-and-redirect","depth":3},{"value":"Step #5 Map the path with a static set","url":"#step-5-map-the-path-with-a-static-set","depth":3},{"value":"Step #6: Setting up KV storage","url":"#step-6-setting-up-kv-storage","depth":3},{"value":"Step #7: Seeding the KV storage","url":"#step-7-seeding-the-kv-storage","depth":3},{"value":"Step #8: Setting up a preview KV environment","url":"#step-8-setting-up-a-preview-kv-environment","depth":3},{"value":"Step #9: Retrieve values from KV storage","url":"#step-9-retrieve-values-from-kv-storage","depth":3},{"value":"Step #10: Automating deployments","url":"#step-10-automating-deployments","depth":3},{"value":"GitHub workflow file","url":"#github-workflow-file","depth":4},{"value":"Cloudflare token","url":"#cloudflare-token","depth":4},{"value":"Add secret in GitHub","url":"#add-secret-in-github","depth":4},{"value":"Step #11: Final checks","url":"#step-11-final-checks","depth":3},{"value":"What's next?","url":"#whats-next","depth":3},{"value":"Unit testing","url":"#unit-testing","depth":4},{"value":"Adding more Workers","url":"#adding-more-workers","depth":4},{"value":"Source controlling multiple Workers","url":"#source-controlling-multiple-workers","depth":4},{"value":"Bundling into a single JavaScript file","url":"#bundling-into-a-single-javascript-file","depth":4},{"value":"Custom domain","url":"#custom-domain","depth":4},{"value":"Source code","url":"#source-code","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"Creating a Short URL Service Using Cloudflare Workers","datePublished":"2022-01-27T00:00:00.000Z","dateModified":"2022-01-27T00:00:00.000Z","description":"Deploy serverless code instantly across the globe","image":"/static/posts/guidepost1.jpg","url":"https://blog.clydedsouza.net/posts/creating-a-short-url-service-using-cloudflare-workers","author":[{"@type":"Person","name":"Clyde D'Souza"}]}}}],["$","div",null,{"className":"grid-rows-[auto_1fr] pb-8 xl:grid xl:grid-cols-4 xl:gap-x-6","children":[["$","div",null,{"className":"pt-2 xl:col-span-3 xl:row-span-2 xl:pb-0","children":[["$","div",null,{"className":"prose dark:prose-invert max-w-none pb-8","children":[["$","figure",null,{"className":"mb-2","children":[["$","$L7",null,{"src":"/static/posts/guidepost1.jpg","alt":"An image of a directional post as the featured image for this article.","className":"mb-0 aspect-16/9 object-cover pb-1","height":536.63,"width":954}],["$","figcaption",null,{"children":["$","center",null,{"children":["Image source: ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://unsplash.com/photos/rzJKYpq2is4","children":"Unsplash"}]]}]}]]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"introduction","children":[["$","a",null,{"className":"break-words","href":"#introduction","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Introduction"]}],["$","p",null,{"children":["Have you ever used a short URL service like bitly or something similar and wondered how it works? Better yet, would you like to create one for yourself? If you've answered yes to both these questions, then you're in the right place. In this article, we'll look at creating a short URL service using ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://workers.cloudflare.com/","children":"Cloudflare Workers"}],"."]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"what-are-cloudflare-workers","children":[["$","a",null,{"className":"break-words","href":"#what-are-cloudflare-workers","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"What are Cloudflare Workers?"]}],["$","p",null,{"children":[["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://workers.cloudflare.com/","children":"Cloudflare Workers"}]," allows you to deploy serverless code to Cloudflare's edge network which means that your code will be available instantly from anywhere across the globe. You don't have to worry about scaling it and the cost to run your code is super cheap. Cloudflare Workers comes with a global, low-latency key-value data store called ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://developers.cloudflare.com/workers/learning/how-kv-works","children":"Workers KV"}],". In this article, we'll be using Workers KV along with Cloudflare Workers."]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-1-sign-up-for-cloudflare","children":[["$","a",null,{"className":"break-words","href":"#step-1-sign-up-for-cloudflare","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #1: Sign up for Cloudflare"]}],["$","p",null,{"children":["Visit ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://cloudflare.com/","children":"cloudflare.com"}]," and sign up for a free account. Once you've verified your email address and gotten access to your dashboard, you may see a message to add a site — you don't need to add a site, just skip to the dashboard page and click on ",["$","strong",null,{"children":"Workers"}],"."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_l5vratkH9Ls6vBw7gUyg_w.png","alt":"Screenshot showing how to access Cloudflare Workers.","width":"389","height":"236"}]}]}],["$","p",null,{"children":["Since this is your first time using Cloudflare Workers, you'll be asked to set up a subdomain. This subdomain name is unique to you and will identify all Workers deployed to your account. Enter a suitable subdomain and then click on ",["$","strong",null,{"children":"Set up"}]," to proceed to the next step."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_UX8yzI1rPWIC2JUFjPihFQ.png","alt":"Screenshot showing how to configure a subdomain for Cloudflare Workers.","width":"776","height":"603"}]}]}],["$","p",null,{"children":"In the next step, we'll continue with the free plan since we're going to use this for learning purposes only. In the final step, verify your email and then you're good to go."}],["$","p",null,{"children":["From the Workers dashboard page, you won't see any Workers listed because we haven't created any. For now, just copy the ",["$","strong",null,{"children":"Account ID"}]," which should be visible in the right panel."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_fac3j6pJ7ivpLo0y5vMyHg.png","alt":"Screenshot showing how to get the account ID from Cloudflare.","width":"375","height":"305"}]}]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-2-set-up-your-development-environment","children":[["$","a",null,{"className":"break-words","href":"#step-2-set-up-your-development-environment","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #2: Set up your development environment"]}],["$","p",null,{"children":["We'll be using the Wrangler CLI for various development tasks, so if you haven't already, please install the CLI tool on your local machine by following ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://developers.cloudflare.com/workers/cli-wrangler/install-update","children":"this official Cloudflare guide"}],"."]}],["$","p",null,{"children":["Login to your Cloudflare account using the Wrangler CLI tool using the command ",["$","code",null,{"children":"wrangler login"}],". It's recommended to open up a command prompt with administrator privileges."]}],["$","p",null,{"children":"This should open Cloudflare in the browser and you might require to authorize Wrangler. Cloudflare will show a message when it's alright to close the page. Back in the console, you should see a message telling you that everything was successfully configured."}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-3-generate-some-code","children":[["$","a",null,{"className":"break-words","href":"#step-3-generate-some-code","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #3: Generate some code"]}],["$","p",null,{"children":["In a local folder, run the command ",["$","code",null,{"children":"wrangler generate shorturl https://github.com/cloudflare/worker-template"}]," to generate some code based on a template from Cloudflare's ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/cloudflare/worker-template","children":"GitHub repository"}],"."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_X_nQAkFFOE6r5VR4t3hdVA.png","alt":"Screenshot showing the console output of the entered wrangler commands.","width":"805","height":"219"}]}]}],["$","p",null,{"children":["As instructed in the console output, we need to update the ",["$","code",null,{"children":"wrangler.toml"}]," file and add the account ID to that. As per ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/cloudflare/wrangler/issues/209#issuecomment-541654484","children":"this comment"}],", it's ok to commit the ",["$","code",null,{"children":"wrangler.toml"}]," file to source control. The information contained in this file is not sensitive."]}],["$","$L17",null,{"className":"language-toml","children":["$","code",null,{"className":"code-highlight language-toml","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token key property","children":"name"}]," ",["$","span",null,{"className":"token punctuation","children":"="}]," ",["$","span",null,{"className":"token string","children":"\"WORKER_NAME\""}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token key property","children":"type"}]," ",["$","span",null,{"className":"token punctuation","children":"="}]," ",["$","span",null,{"className":"token string","children":"\"javascript\""}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token key property","children":"account_id"}]," ",["$","span",null,{"className":"token punctuation","children":"="}]," ",["$","span",null,{"className":"token string","children":"\"YOUR ACCOUNT ID\""}],"\n"]}]]}]}],["$","p",null,{"children":["Finally, if you run the command ",["$","code",null,{"children":"wrangler dev"}],", you should see the following output."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_gV1OJWEoMxWjjxqIorEwsA.png","alt":"Screenshot showing the Worker in action locally.","width":"309","height":"117"}]}]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-4-get-a-short-url-and-redirect","children":[["$","a",null,{"className":"break-words","href":"#step-4-get-a-short-url-and-redirect","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #4: Get a short URL and redirect"]}],["$","p",null,{"children":["In the ",["$","code",null,{"children":"index.js"}]," file, replace the ",["$","code",null,{"children":"handleRequest()"}]," method with the code snippet below. We're fetching the entire request URL from the object received, then getting the pathname from that, and then simply redirecting the user to example.com with the same pathname suffixed. For example, heading over to our development Worker URL ",["$","code",null,{"children":"127.0.0.1:8787/abc"}]," will redirect the user to ",["$","code",null,{"children":"https://example.com/abc"}],". If no pathname is supplied, then a simple text message is printed in the browser. Give this a test using the command ",["$","code",null,{"children":"wrangler dev"}],"."]}],["$","$L17",null,{"className":"language-js","children":["$","code",null,{"className":"code-highlight language-js","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," base ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string","children":"'https://example.com'"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," statusCode ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"301"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"handleRequest"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"request"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," url ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"URL"}],["$","span",null,{"className":"token punctuation","children":"("}],"request",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"url"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," pathname ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token operator","children":"="}]," url\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," destinationURL ",["$","span",null,{"className":"token operator","children":"="}]," base ",["$","span",null,{"className":"token operator","children":"+"}]," pathname\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"pathname ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token string","children":"'/'"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"Response"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'Hello worker!'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"headers"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token property string-property","children":"'content-type'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'text/plain'"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Response"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function property-access method","children":"redirect"}],["$","span",null,{"className":"token punctuation","children":"("}],"destinationURL",["$","span",null,{"className":"token punctuation","children":","}]," statusCode",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-5-map-the-path-with-a-static-set","children":[["$","a",null,{"className":"break-words","href":"#step-5-map-the-path-with-a-static-set","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #5 Map the path with a static set"]}],["$","p",null,{"children":["The next step is to make it slightly more dynamic and in line with how the final storage would look like. We've added the ",["$","code",null,{"children":"getRedirectURL()"}]," method that simply gets the redirect URL based on the key supplied. In the ",["$","code",null,{"children":"handleRequest()"}]," method, we've modified a line to use the ",["$","code",null,{"children":"getRedirectURL()"}]," method."]}],["$","$L17",null,{"className":"language-js","children":["$","code",null,{"className":"code-highlight language-js","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," urls ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"google"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'https://www.google.com'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"facebook"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'https://www.facebook.com'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"getRedirectURL"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"pathname"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," urls",["$","span",null,{"className":"token punctuation","children":"["}],"pathname",["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"||"}]," ",["$","span",null,{"className":"token string","children":"'/'"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"handleRequest"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"request"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"// Same as before"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," redirectURL ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"getRedirectURL"}],["$","span",null,{"className":"token punctuation","children":"("}],"pathname",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function property-access method","children":"replace"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token function anchor","children":"^"}],["$","span",null,{"className":"token escape","children":"\\/"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"''"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"redirectURL ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token string","children":"'/'"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"Response"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'Not a valid identifier'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"headers"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token property string-property","children":"'content-type'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'text/plain'"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Response"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function property-access method","children":"redirect"}],["$","span",null,{"className":"token punctuation","children":"("}],"redirectURL",["$","span",null,{"className":"token punctuation","children":","}]," statusCode",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"So far we've got a static list of short URLs and their redirects. Now it's time to make it dynamic."}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-6-setting-up-kv-storage","children":[["$","a",null,{"className":"break-words","href":"#step-6-setting-up-kv-storage","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #6: Setting up KV storage"]}],["$","p",null,{"children":"Rather than storing a static list of the keys and the corresponding websites it redirects to, we'll be using Cloudflare's KV storage."}],["$","p",null,{"children":["Let's start by running the command ",["$","code",null,{"children":"wrangler kv:namespace create “SHORTURLS”"}]," where ",["$","code",null,{"children":"SHORTURLS"}]," is the name I used for my KV namespace. This commands prints a message in the console that instructs to add the KV configuration to the ",["$","code",null,{"children":"wrangler.toml"}]," file."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_g_EX-IiZwPppI7nZ-AuL6A.png","alt":"Screenshot showing the console output of the entered wrangler commands.","width":"633","height":"127"}]}]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-7-seeding-the-kv-storage","children":[["$","a",null,{"className":"break-words","href":"#step-7-seeding-the-kv-storage","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #7: Seeding the KV storage"]}],["$","p",null,{"children":"To quickly test our application out, let's use the following command to add one record into the database."}],["$","$L17",null,{"className":"language-shell","children":["$","code",null,{"className":"code-highlight language-shell","children":["$","span",null,{"className":"code-line","children":["wrangler kv:key put ",["$","span",null,{"className":"token parameter variable","children":"--binding"}],["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token operator","children":"<"}],"BINDING NAME",["$","span",null,{"className":"token operator","children":">"}]," “",["$","span",null,{"className":"token operator","children":"<"}],"KEY",["$","span",null,{"className":"token operator","children":">"}],"” “",["$","span",null,{"className":"token operator","children":"<"}],"URL",["$","span",null,{"className":"token operator","children":">"}],"\"\n"]}]}]}],["$","p",null,{"children":["In the repository I'm working on, I've updated the command to ",["$","code",null,{"children":"wrangler kv:key put --binding=SHORTURLS “twitter” “https://twitter.com/clydedz\""}],". If all goes well, you should immediately see a success message."]}],["$","p",null,{"children":["Now, if you try to run the command ",["$","code",null,{"children":"wrangler dev"}]," you should see an error message that might look something like this:"]}],["$","blockquote",null,{"children":["$","p",null,{"children":["Error: In order to preview a worker with KV namespaces, you must designate a preview_id in your configuration file for each KV namespace",["$","br",null,{}],"you'd like to preview."]}]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_fyYIgdq1T1kMKjppIfD7sg.png","alt":"Screenshot showing the console output of the entered wrangler commands.","width":"977","height":"68"}]}]}],["$","p",null,{"children":["After reading ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/cloudflare/wrangler/issues/1458#issuecomment-671465444","children":"this useful GitHub answer"}],", it became clear that all we needed was a preview environment. When we created the namespace earlier, it was associated with your production environment. So, when you test it out using ",["$","code",null,{"children":"wrangler dev"}],", it doesn't let you manipulate your production KV storage from your development environment."]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-8-setting-up-a-preview-kv-environment","children":[["$","a",null,{"className":"break-words","href":"#step-8-setting-up-a-preview-kv-environment","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #8: Setting up a preview KV environment"]}],["$","p",null,{"children":["To fix this, we'll need to repeat the KV creation steps exactly as before, but this time we'll add the argument ",["$","code",null,{"children":"--preview"}]," indicating that we need a preview, i.e. development instance created."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_X0Y7qIFeesMrK5ZgEr_HGg.png","alt":"Screenshot showing the console output of the entered wrangler commands.","width":"816","height":"101"}]}]}],["$","p",null,{"children":["Because we entered the same KV namespace name, notice how the primary ",["$","code",null,{"children":"id"}]," is still the same original one, and in addition to that, we've been assigned a ",["$","code",null,{"children":"preview_id"}],"."]}],["$","p",null,{"children":["If you try to run the application now, the Worker will work but heading over to ",["$","code",null,{"children":"/twitter"}]," will not redirect you to the Twitter URL. The reason for this is that we've only seeded our production environment of the KV namespace. Now that we're connecting to preview, we'll also need to seed this preview namespace with a test record. I'm going to run the following command as we did before, but this time I'm going to add the ",["$","code",null,{"children":"--preview"}]," argument."]}],["$","$L17",null,{"className":"language-shell","children":["$","code",null,{"className":"code-highlight language-shell","children":["$","span",null,{"className":"code-line","children":["wrangler kv:key put ",["$","span",null,{"className":"token parameter variable","children":"--binding"}],["$","span",null,{"className":"token operator","children":"="}],"SHORTURLS “twitter” “https://twitter.com/clydedz\" --preview.\n"]}]}]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-9-retrieve-values-from-kv-storage","children":[["$","a",null,{"className":"break-words","href":"#step-9-retrieve-values-from-kv-storage","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #9: Retrieve values from KV storage"]}],["$","p",null,{"children":["We'll now update the ",["$","code",null,{"children":"getRedirectURL()"}]," method to use our KV namespace to get the value instead of a local static collection. Note, we've written",["$","code",null,{"children":"SHORTURLS.get()"}]," to match our binding name which is named ",["$","code",null,{"children":"SHORTURLS"}],". So, if your binding name was ",["$","code",null,{"children":"XYZ"}],", then you'd update this code to ",["$","code",null,{"children":"XYZ.get()"}],". I've also updated this method to be asynchronous."]}],["$","$L17",null,{"className":"language-js","children":["$","code",null,{"className":"code-highlight language-js","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"getRedirectURL"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"pathname"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"let"}]," value ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," ",["$","span",null,{"className":"token constant","children":"SHORTURLS"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function property-access method","children":"get"}],["$","span",null,{"className":"token punctuation","children":"("}],"pathname",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," value ",["$","span",null,{"className":"token operator","children":"||"}]," ",["$","span",null,{"className":"token string","children":"'/'"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"Finally, let's run the application locally to test it out. As you can see in the GIF below, it now works as expected."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_BWD9UbqD9m_K4gjQWvcIpQ.gif","alt":"GIF showing the redirection in action.","width":"560","height":"208"}]}]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-10-automating-deployments","children":[["$","a",null,{"className":"break-words","href":"#step-10-automating-deployments","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #10: Automating deployments"]}],["$","p",null,{"children":"We wouldn't want to manually deploy our Cloudflare Worker every time we make changes now, would we? For automated deployments, we'll take a look at GitHub Actions since my repository is already source controlled in GitHub."}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"github-workflow-file","children":[["$","a",null,{"className":"break-words","href":"#github-workflow-file","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"GitHub workflow file"]}],["$","p",null,{"children":["A GitHub workflow file is a YAML file that allows you to configure your build and deploy pipeline via code. I'll explain what we've used for this project, but if you're keen to read more about GitHub workflow, please check out their ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://docs.github.com/en/actions","children":"official documentation here"}],"."]}],["$","p",null,{"children":["Let's start by adding the below code snippet to a file called ",["$","code",null,{"children":"build-deploy.yml"}]," and store this file in the ",["$","code",null,{"children":".github/workflows/"}]," folder."]}],["$","$L17",null,{"className":"language-yaml","children":["$","code",null,{"className":"code-highlight language-yaml","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token key atrule","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Deploy Cloudflare Worker\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token key atrule","children":"on"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token key atrule","children":"push"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token key atrule","children":"branches"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"-"}]," main\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token key atrule","children":"jobs"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token key atrule","children":"deploy"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token key atrule","children":"runs-on"}],["$","span",null,{"className":"token punctuation","children":":"}]," ubuntu",["$","span",null,{"className":"token punctuation","children":"-"}],"latest\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token key atrule","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Deploy shorturl worker\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token key atrule","children":"steps"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token key atrule","children":"uses"}],["$","span",null,{"className":"token punctuation","children":":"}]," actions/checkout@v2\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token key atrule","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Publish\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token key atrule","children":"uses"}],["$","span",null,{"className":"token punctuation","children":":"}]," cloudflare/wrangler",["$","span",null,{"className":"token punctuation","children":"-"}],"action@1.3.0\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token key atrule","children":"with"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token key atrule","children":"apiToken"}],["$","span",null,{"className":"token punctuation","children":":"}]," $",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"{"}]," secrets.CF_API_TOKEN ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token key atrule","children":"workingDirectory"}],["$","span",null,{"className":"token punctuation","children":":"}]," ",["$","span",null,{"className":"token string","children":"'shorturl'"}],"\n"]}]]}]}],["$","p",null,{"children":["We start by giving it a nice descriptive name using the ",["$","code",null,{"children":"name"}]," keyword. Then, using the ",["$","code",null,{"children":"on"}]," keyword, we're configuring this pipeline to run every time code is pushed to the main branch."]}],["$","p",null,{"children":["In the last section of this file, we're using the ",["$","code",null,{"children":"jobs"}]," keyword to define a job which is nothing but a batch of steps that will be executed. The keyword ",["$","code",null,{"children":"deploy"}]," is just an identifier for this job and could've been named anything else, too. The keyword ",["$","code",null,{"children":"steps"}]," contains the individual steps that will make the deployment happen."]}],["$","p",null,{"children":["We're using a GitHub Action from the marketplace called ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/marketplace/actions/checkout","children":"actions/checkout"}]," to check out the code from our Git repository. Next, we're using ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/marketplace/actions/deploy-to-cloudflare-workers-with-wrangler","children":"cloudflare/wrangler-action"}]," provided by Cloudflare to deploy our Worker to Cloudflare. Instead of hardcoding the API token, which is required for this step to authenticate against our Cloudflare account, we're using the GitHub secret variable called ",["$","code",null,{"children":"CF_API_TOKEN"}],". The prefix ",["$","code",null,{"children":"secrets"}]," and the curly braces around it just a syntax for accessing ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://docs.github.com/en/actions/security-guides/encrypted-secrets","children":"GitHub secrets"}],". Don't worry, we'll look at adding this secret in the next step."]}],["$","p",null,{"children":["We're using the ",["$","code",null,{"children":"workingDirectory"}]," keyword to set the working directory of our Cloudflare Worker to a subdirectory (relative to the root directory) because the code for our Worker isn't in the root directory, which is usually the default setting — more on this decision below."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"cloudflare-token","children":[["$","a",null,{"className":"break-words","href":"#cloudflare-token","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Cloudflare token"]}],["$","p",null,{"children":["Navigate to the ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://dash.cloudflare.com/profile/api-tokens","children":"API Tokens page"}]," in Cloudflare and then click on the ",["$","strong",null,{"children":"Create Token"}]," button."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_uHucyp-XXEn32Rqvqfhm0g.png","alt":"Screenshot showing how to create a new API token.","width":"1049","height":"377"}]}]}],["$","p",null,{"children":["From the API token templates page, we'll click on the ",["$","strong",null,{"children":"Use template"}]," button beside the ",["$","strong",null,{"children":"Edit Cloudflare Workers"}]," line item."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_4U7ZaLs4jxiN8oTsWbnUfQ.png","alt":"Screenshot showing how to use an existing template to create an API token.","width":"720","height":"492"}]}]}],["$","p",null,{"children":["On the next page, from the ",["$","strong",null,{"children":"Account resources"}]," and ",["$","strong",null,{"children":"Zone resources"}]," dropdowns, select your account (the email address should show up in these dropdowns) from the dropdown. If you are a user of multiple Cloudflare accounts, you'll need to be careful to select the right account."]}],["$","p",null,{"children":["Continue to the summary, then click on the ",["$","strong",null,{"children":"Create Token"}]," button. Copy the token and save it securely."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_F6E6VF-kO35iqU9rC98DCg.png","alt":"Screenshot showing how to create a token in Cloudflare.","width":"1024","height":"332"}]}]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"add-secret-in-github","children":[["$","a",null,{"className":"break-words","href":"#add-secret-in-github","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Add secret in GitHub"]}],["$","p",null,{"children":["Since we've used the variable ",["$","code",null,{"children":"CF_API_TOKEN"}]," in the Workflow file, let's add a secret of the same name in GitHub. Click on ",["$","strong",null,{"children":"Settings"}],", then click on ",["$","strong",null,{"children":"Secrets"}]," and then ",["$","strong",null,{"children":"New secret"}],". Type the secret variable name ",["$","code",null,{"children":"CF_API_TOKEN"}]," and in the ",["$","strong",null,{"children":"Value"}]," field, enter the Cloudflare API token we generated earlier. Click on ",["$","strong",null,{"children":"Add secret"}]," button to save these changes."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_aBbi8J8rKopUZWBPw3A3Bw.png","alt":"Screenshot showing how to add a secret in GitHub.","width":"1009","height":"602"}]}]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"step-11-final-checks","children":[["$","a",null,{"className":"break-words","href":"#step-11-final-checks","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Step #11: Final checks"]}],["$","p",null,{"children":["Now that we've got all the items in place, don't forget to commit and push the changes to your Workflow file. If everything has been set up well, you should see a successful run in the ",["$","strong",null,{"children":"Actions"}]," tab in GitHub."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_y69YYHGn9fnNC6m3hgdQmw.png","alt":"Screenshot of the GitHub Actions tab.","width":"1265","height":"354"}]}]}],["$","p",null,{"children":"Now, if you head over to the Workers page in your Cloudflare account, you should see the Worker you just deployed pop up on the screen."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_y7ffTi0BLi-TPSJ6ha9jPA.png","alt":"Image showing how to see the Worker in the Cloudflare dashboard.","width":"814","height":"579"}]}]}],["$","p",null,{"children":["Head over to the Worker URL and test if the URL redirection works. We can still test the ",["$","code",null,{"children":"<URL of your Worker>/twitter"}]," short URL since we seeded that data earlier."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_YHmeK66PEc-RGyQSIFXtug.gif","alt":"GIF showing the redirection in action.","width":"674","height":"168"}]}]}],["$","hr",null,{}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"whats-next","children":[["$","a",null,{"className":"break-words","href":"#whats-next","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"What's next?"]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"unit-testing","children":[["$","a",null,{"className":"break-words","href":"#unit-testing","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Unit testing"]}],["$","p",null,{"children":"We didn't look at writing unit tests and setting up test coverage for brevity. However, in a real-life solution, you'd want to consider unit testing your code and also include the required steps in your CI/CD pipeline."}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"adding-more-workers","children":[["$","a",null,{"className":"break-words","href":"#adding-more-workers","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Adding more Workers"]}],["$","p",null,{"children":"In the article above, we only looked at a Worker that redirects us to the destination URL after we supply it with a short URL. If you're trying to create a full-fledged short URL service, you'd also want to create one that allows us to create a new short URL mapping that will act as the backend, and potentially a microservice that will help post analytics for every hit on the short URL and also fetch these analytics back."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_YC-pmfE9i4QZI3qw_HumJQ.png","alt":"Diagram showing how multiple Workers come together to form a complete solution.","width":"9229","height":"5101"}]}]}],["$","p",null,{"children":"Handdrawn diagram created by the author"}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"source-controlling-multiple-workers","children":[["$","a",null,{"className":"break-words","href":"#source-controlling-multiple-workers","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Source controlling multiple Workers"]}],["$","p",null,{"children":"You don't have to create different Git repositories to host each Cloudflare Worker. You can create a monorepo for all your Workers and have subfolders with contents for each Worker. This works great if you're sharing code between different workers, so you don't end up repeating it."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_t6vUl_1ITc5D_P3GpKRS3w.png","alt":"Diagram showing how to host multiple workers in the same repository.","width":"5080","height":"5448"}]}]}],["$","p",null,{"children":"Handdrawn diagram created by the author"}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"bundling-into-a-single-javascript-file","children":[["$","a",null,{"className":"break-words","href":"#bundling-into-a-single-javascript-file","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Bundling into a single JavaScript file"]}],["$","p",null,{"children":["We've also written all our JavaScript code in a single file which isn't ideal. Out of the box, we cannot import another JavaScript file into our Worker's ",["$","code",null,{"children":"index.js"}]," file. To get around this, we can decouple the source code from the final generated Worker JavaScript file. What I mean by that is (also illustrated above), we maintain our source code for a Worker in a folder called ",["$","code",null,{"children":"src"}],", for example, and then run a process like ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://webpack.js.org/","children":"webpack"}]," to bundle and generate a single JavaScript file into a destination folder, let's call this ",["$","code",null,{"children":"dist"}],". The contents of this destination folder are what we can then publish to Cloudflare."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"custom-domain","children":[["$","a",null,{"className":"break-words","href":"#custom-domain","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Custom domain"]}],["$","p",null,{"children":"If you're building a full-fledge solution, you may also be looking at setting up a custom domain name for your Workers — this is indeed possible and your final solution might look something like the diagram below, using bit.ly as the domain name for reference."}],["$","p",null,{"children":["$","img",null,{"alt":"High-level architecture diagram showing all components involved in a full-fledged short URL service.","src":"/static/posts/1*cxAr7Kz9jvQZe2y0BxMAEQ.png"}]}],["$","p",null,{"children":"Handdrawn diagram created by the author"}],["$","hr",null,{}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"source-code","children":[["$","a",null,{"className":"break-words","href":"#source-code","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Source code"]}],["$","p",null,{"children":["If you'd like to see the full source code for this project, it's available on ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/shorturl-cloudflare-workers","children":"GitHub"}],". In the same repository, you'll also find a ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/shorturl-cloudflare-workers/blob/main/cloudflare.ps1","children":"PowerShell script"}]," that contains all the commands we've used above."]}],["$","p",null,{"children":"That's it. Thanks for reading."}]]}],["$","div",null,{"className":"pt-6 pb-6 text-center text-gray-700 dark:text-gray-300","id":"comment","children":["$","$L18",null,{"slug":"creating-a-short-url-service-using-cloudflare-workers"}]}]]}],["$","$L19",null,{"content":"$c:1:props:children:1:props:children:0:props:content","authorDetails":[{"name":"Clyde D'Souza","avatar":"/static/images/clydedsouza.jpg","occupation":"Senior Software Engineer. Digital Content Creator.","bio":"Hi, I'm Clyde. I'm a software engineer and digital content creator based in Auckland, New Zealand. I write about various technologies, teach online classes, make videos, and I'm also the author of a children's bedtime storybook!","email":"address@yoursite.com","twitter":"https://twitter.com/clydedz","linkedin":"https://www.linkedin.com/in/clydedz/","github":"https://github.com/clydedz","kofi":"https://ko-fi.com/L3L026ITT","type":"Authors","readingTime":{"text":"1 min read","minutes":0.18,"time":10800,"words":36},"slug":"default","path":"authors/default","filePath":"authors/default.mdx","toc":[]}],"next":{"title":"What are NFTs and why are people buying them?","date":"2022-02-06T00:00:00.000Z","tags":["NFT","Metaverse","Blockchain","NFT Collectibles","Cryptocurrency"],"readingList":[],"lastmod":"2022-02-06T00:00:00.000Z","draft":false,"subtitle":"Everything you need to know about NFTs","images":["/static/posts/nfts.jpg"],"type":"Blog","readingTime":{"text":"13 min read","minutes":12.39,"time":743400,"words":2478},"slug":"what-are-nfts-and-why-are-people-buying-them","path":"posts/what-are-nfts-and-why-are-people-buying-them","filePath":"posts/what-are-nfts-and-why-are-people-buying-them.mdx","toc":[{"value":"Introduction","url":"#introduction","depth":3},{"value":"What is an NFT?","url":"#what-is-an-nft","depth":3},{"value":"Foundational concepts","url":"#foundational-concepts","depth":3},{"value":"Blockchain","url":"#blockchain","depth":4},{"value":"Web 3.0","url":"#web-30","depth":4},{"value":"Cryptocurrency","url":"#cryptocurrency","depth":4},{"value":"Why are people buying NFTs?","url":"#why-are-people-buying-nfts","depth":3},{"value":"Verify ownership and authenticity","url":"#verify-ownership-and-authenticity","depth":4},{"value":"Removes the need for a middle-man","url":"#removes-the-need-for-a-middle-man","depth":4},{"value":"Rarity","url":"#rarity","depth":4},{"value":"Buy, hold and sell","url":"#buy-hold-and-sell","depth":4},{"value":"More than just digital assets","url":"#more-than-just-digital-assets","depth":4},{"value":"Showcase your collectables in the metaverse","url":"#showcase-your-collectables-in-the-metaverse","depth":4},{"value":"Gaming","url":"#gaming","depth":4},{"value":"Interesting use-cases of NFTs around the world","url":"#interesting-use-cases-of-nfts-around-the-world","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"What are NFTs and why are people buying them?","datePublished":"2022-02-06T00:00:00.000Z","dateModified":"2022-02-06T00:00:00.000Z","description":"Everything you need to know about NFTs","image":"/static/posts/nfts.jpg","url":"https://blog.clydedsouza.net/posts/what-are-nfts-and-why-are-people-buying-them"}},"prev":{"title":"Building a Chrome Extension That Also Runs Like a Website","date":"2022-01-17T00:00:00.000Z","tags":["Chrome Extension","Software Design Patterns","Software Development","Design Patterns","Programming"],"readingList":["Chrome Extensions"],"lastmod":"2022-01-17T00:00:00.000Z","draft":false,"subtitle":"A practical example of factory pattern decoupling","images":["/static/posts/chromeleaves.png"],"type":"Blog","readingTime":{"text":"6 min read","minutes":5.31,"time":318600,"words":1062},"slug":"building-a-chrome-extension-that-also-runs-like-a-website","path":"posts/building-a-chrome-extension-that-also-runs-like-a-website","filePath":"posts/building-a-chrome-extension-that-also-runs-like-a-website.mdx","toc":[{"value":"Problem","url":"#problem","depth":3},{"value":"Solution","url":"#solution","depth":3},{"value":"Step 1: Decoupling the storage implementation details","url":"#step-1-decoupling-the-storage-implementation-details","depth":4},{"value":"Step 2: Decoupling the storage method","url":"#step-2-decoupling-the-storage-method","depth":4},{"value":"References","url":"#references","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"Building a Chrome Extension That Also Runs Like a Website","datePublished":"2022-01-17T00:00:00.000Z","dateModified":"2022-01-17T00:00:00.000Z","description":"A practical example of factory pattern decoupling","image":"/static/posts/chromeleaves.png","url":"https://blog.clydedsouza.net/posts/building-a-chrome-extension-that-also-runs-like-a-website","author":[{"@type":"Person","name":"Clyde D'Souza"}]}},"children":"$c:1:props:children:1:props:children:1:props:children:0:props:children:0:props:children"}]]}]]}]]}]]
11:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
e:null
f:null
13:[["$","title","0",{"children":"Creating a Short URL Service Using Cloudflare Workers | Clyde's Blog"}],["$","meta","1",{"name":"description","content":"Deploy serverless code instantly across the globe"}],["$","meta","2",{"name":"robots","content":"index, follow"}],["$","meta","3",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","4",{"rel":"canonical","href":"https://blog.clydedsouza.net/posts/creating-a-short-url-service-using-cloudflare-workers"}],["$","link","5",{"rel":"alternate","type":"application/rss+xml","href":"https://blog.clydedsouza.net/feed.xml"}],["$","meta","6",{"property":"og:title","content":"Creating a Short URL Service Using Cloudflare Workers"}],["$","meta","7",{"property":"og:description","content":"Deploy serverless code instantly across the globe"}],["$","meta","8",{"property":"og:url","content":"https://blog.clydedsouza.net/posts/creating-a-short-url-service-using-cloudflare-workers"}],["$","meta","9",{"property":"og:site_name","content":"Clyde's Blog"}],["$","meta","10",{"property":"og:locale","content":"en_US"}],["$","meta","11",{"property":"og:image","content":"https://blog.clydedsouza.net/static/posts/guidepost1.jpg"}],["$","meta","12",{"property":"og:type","content":"article"}],["$","meta","13",{"property":"article:published_time","content":"2022-01-27T00:00:00.000Z"}],["$","meta","14",{"property":"article:modified_time","content":"2022-01-27T00:00:00.000Z"}],["$","meta","15",{"property":"article:author","content":"Clyde D'Souza"}],["$","meta","16",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","17",{"name":"twitter:title","content":"Creating a Short URL Service Using Cloudflare Workers"}],["$","meta","18",{"name":"twitter:description","content":"Deploy serverless code instantly across the globe"}],["$","meta","19",{"name":"twitter:image","content":"https://blog.clydedsouza.net/static/posts/guidepost1.jpg"}]]
