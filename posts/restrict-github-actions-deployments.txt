1:"$Sreact.fragment"
2:I[2947,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-4a405a84b86a141c.js"],"RegisterAnalytics"]
3:I[446,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-4a405a84b86a141c.js"],"ThemeProviders"]
4:I[9243,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-4a405a84b86a141c.js"],""]
5:I[7392,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-4a405a84b86a141c.js"],"KBarSearchProvider"]
6:I[6874,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],""]
7:I[3063,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"Image"]
8:I[4159,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-4a405a84b86a141c.js"],"KBarButton"]
9:I[7773,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-4a405a84b86a141c.js"],"default"]
a:I[7555,[],""]
b:I[1295,[],""]
d:I[9665,[],"OutletBoundary"]
10:I[9665,[],"ViewportBoundary"]
12:I[9665,[],"MetadataBoundary"]
14:I[6614,[],""]
:HL["/_next/static/media/e4af272ccee01ff0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/991d5e3381d79286.css","style"]
:HL["/_next/static/css/37f456282b5838dd.css","style"]
:HL["/_next/static/css/a821df72551a909a.css","style"]
:HL["/_next/static/css/252e266d7553d403.css","style"]
0:{"P":null,"b":"eR4HhPgTjlmK0gPP5df-6","p":"","c":["","posts","restrict-github-actions-deployments"],"i":false,"f":[[["",{"children":["posts",{"children":[["slug","restrict-github-actions-deployments","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/991d5e3381d79286.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/37f456282b5838dd.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en-us","className":"__variable_93ed5b scroll-smooth","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"apple-touch-icon","sizes":"76x76","href":"/static/favicons/apple-touch-icon-76x76.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/static/favicons/apple-touch-icon-57x57.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/static/favicons/apple-touch-icon-57x57.png"}],["$","link",null,{"rel":"manifest","href":"/static/favicons/site.webmanifest"}],["$","link",null,{"rel":"mask-icon","href":"/static/favicons/apple-touch-icon-120x120.png","color":"#10984d"}],["$","meta",null,{"name":"google-adsense-account","content":"ca-pub-4666761687967451"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#10984d"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"#10984d"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"#10984d"}],["$","link",null,{"rel":"alternate","type":"application/rss+xml","href":"/feed.xml"}],["$","body",null,{"className":"bg-white text-black antialiased dark:bg-gray-950 dark:text-white","children":[["$","script",null,{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4666761687967451","crossOrigin":"anonymous"}],["$","$L2",null,{}],["$","$L3",null,{"children":[["$undefined",[["$","$L4",null,{"strategy":"lazyOnload","id":"sa-script","children":"\n            window.sa_event=window.sa_event||function(){var a=[].slice.call(arguments);window.sa_event.q?window.sa_event.q.push(a):window.sa_event.q=[a]};\n        "}],["$","$L4",null,{"strategy":"lazyOnload","src":"https://scripts.simpleanalyticscdn.com/latest.js"}]],"$undefined","$undefined","$undefined","$undefined"],["$","$L5",null,{"kbarConfig":{"searchDocumentsPath":"/search.json"},"children":[["$","header",null,{"className":"border-t-primary-500 sticky top-0 z-50 flex h-14 w-full items-center justify-between border-t-4 bg-white/95 px-8 py-4 backdrop-blur-lg dark:bg-gray-950","children":[["$","$L6",null,{"className":"break-words","href":"/","aria-label":"Clyde's Blog","children":["$","div",null,{"className":"flex items-center justify-between","children":[["$","div",null,{"className":"mr-3","children":["$","$L7",null,{"src":"/static/images/clydedsouza.jpg","width":35,"height":35,"style":{"borderRadius":"100px"},"priority":true,"alt":"Picture of the author"}]}],["$","div",null,{"className":"hidden text-xl font-semibold md:block","children":"Clyde's Blog"}]]}]}],["$","div",null,{"className":"flex items-center space-x-4 leading-5 sm:-mr-6 sm:space-x-6","children":[["$","$L8",null,{"aria-label":"Search","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","className":"hover:text-primary-500 dark:hover:text-primary-400 h-6 w-6 text-gray-900 dark:text-gray-100","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}]}]}],["$","div",null,{"className":"no-scrollbar hidden max-w-80 items-center gap-x-4 overflow-x-auto sm:flex md:max-w-72 lg:max-w-96","children":[["$","$L6","All posts",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 text-sm font-medium text-gray-900 dark:text-gray-100","href":"/posts","children":"All posts"}]]}],["$","a",null,{"className":"flex items-center justify-center gap-4 rounded-full bg-black px-2 py-1 text-sm text-white transition-colors duration-200 hover:bg-teal-500 focus:bg-teal-500 sm:px-4 sm:py-2 dark:bg-teal-500 dark:hover:bg-black dark:focus:bg-black","target":"_blank","rel":"noopener noreferrer","href":"https://clydedsouza.net","children":["$","span",null,{"className":"whitespace-nowrap","children":"Visit my website"}]}],false,["$","$L9",null,{}]]}]]}],["$","main",null,{"className":"mb-auto","children":["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","section",null,{"className":"mx-auto max-w-7xl px-2 sm:px-6 xl:max-w-7xl xl:px-0","children":[["$","h1",null,{"className":"py-6 text-5xl font-extrabold tracking-tight text-gray-900 sm:text-5xl sm:leading-10 md:text-5xl md:leading-14 dark:text-gray-100","children":"Sorry, this page doesn't exist."}],["$","div",null,{"className":"flex w-full flex-wrap","children":"Try heading to the homepage for a fresh start or using the search above to look for content."}],["$","div",null,{"className":"my-6 flex w-full flex-wrap","children":["$","$L6",null,{"className":"bg-primary-500 flex items-center justify-center gap-4 rounded-full px-4 py-2 text-white transition-colors duration-200 hover:bg-slate-800 focus:bg-slate-800 sm:px-8 sm:py-2","href":"/","children":"Back to homepage"}]}]]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],["$","footer",null,{"children":["$","div",null,{"className":"mt-6 flex flex-col items-center","children":[["$","div",null,{"className":"mb-3 flex space-x-4","children":[["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"mailto:clyde@clydedsouza.net","children":[["$","span",null,{"className":"sr-only","children":"mail"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 20 20","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Mail"}],["$","path",null,{"d":"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}],["$","path",null,{"d":"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz","children":[["$","span",null,{"className":"sr-only","children":"github"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"GitHub"}],["$","path",null,{"d":"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}]]}]]}],null,["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://www.youtube.com/@clydedz","children":[["$","span",null,{"className":"sr-only","children":"youtube"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Youtube"}],["$","path",null,{"d":"M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://www.linkedin.com/in/clydedz/","children":[["$","span",null,{"className":"sr-only","children":"linkedin"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Linkedin"}],["$","path",null,{"d":"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"}]]}]]}],null,null,["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://twitter.com/clydedz","children":[["$","span",null,{"className":"sr-only","children":"x"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"X"}],["$","path",null,{"d":"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"}]]}]]}],null,null,null]}],["$","div",null,{"className":"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400","children":[["$","div",null,{"children":["Copyright ©"," ",["$","a",null,{"className":"hover:text-primary-500 cursor-pointer hover:underline","target":"_blank","rel":"noopener noreferrer","href":"https://clydedsouza.net","children":"Clyde D'Souza"}]," ",2025,"."]}],["$","div",null,{"children":"All rights reserved."}]]}],["$","div",null,{"className":"mb-8 text-sm text-gray-500 dark:text-gray-400","children":["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/timlrx/tailwind-nextjs-starter-blog","children":"Thanks to this blog theme"}]}]]}]}]]}]]}]]}]]}],{"children":["posts",["$","$1","c",{"children":[null,["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","restrict-github-actions-deployments","c"],["$","$1","c",{"children":[null,["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Lc","$undefined",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/a821df72551a909a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/252e266d7553d403.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$Ld",null,{"children":["$Le","$Lf",null]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","zu0t-0EGp8VxSlSzFFu__",{"children":[["$","$L10",null,{"children":"$L11"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],["$","$L12",null,{"children":"$L13"}]]}],false]],"m":"$undefined","G":["$14","$undefined"],"s":false,"S":true}
15:I[3428,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
16:I[1130,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"PostHeader"]
17:I[2100,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
18:I[1954,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
19:I[3926,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"PostAside"]
c:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"Restrict GitHub Actions Deployments\",\"datePublished\":\"2025-01-21T00:00:00.000Z\",\"dateModified\":\"2025-01-21T00:00:00.000Z\",\"description\":\"Protection rules to the rescue\",\"image\":\"/static/posts/lockchains.jpg\",\"url\":\"https://blog.clydedsouza.net/posts/restrict-github-actions-deployments\",\"author\":[{\"@type\":\"Person\",\"name\":\"Clyde D'Souza\"}]}"}}],["$","section",null,{"className":"mx-auto max-w-7xl px-2 sm:px-6 xl:max-w-7xl xl:px-0","children":[["$","$L15",null,{}],["$","article",null,{"className":"xl:dark:divide-gray-700","children":[["$","$L16",null,{"content":{"title":"Restrict GitHub Actions Deployments","date":"2025-01-21T00:00:00.000Z","tags":["Github","GitHub Actions","CICD","Workflow","Workflow Automation"],"readingList":["GitHub Actions"],"lastmod":"2025-01-21T00:00:00.000Z","draft":false,"subtitle":"Protection rules to the rescue","images":["/static/posts/lockchains.jpg"],"type":"Blog","readingTime":{"text":"4 min read","minutes":3.41,"time":204600,"words":682},"slug":"restrict-github-actions-deployments","path":"posts/restrict-github-actions-deployments","filePath":"posts/restrict-github-actions-deployments.mdx","toc":[{"value":"Introduction","url":"#introduction","depth":3},{"value":"Reproducing the problem","url":"#reproducing-the-problem","depth":3},{"value":"Solution","url":"#solution","depth":3},{"value":"Testing the solution","url":"#testing-the-solution","depth":3},{"value":"Somethings to consider","url":"#somethings-to-consider","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"Restrict GitHub Actions Deployments","datePublished":"2025-01-21T00:00:00.000Z","dateModified":"2025-01-21T00:00:00.000Z","description":"Protection rules to the rescue","image":"/static/posts/lockchains.jpg","url":"https://blog.clydedsouza.net/posts/restrict-github-actions-deployments","author":[{"@type":"Person","name":"Clyde D'Souza"}]}}}],["$","div",null,{"className":"grid-rows-[auto_1fr] pb-8 xl:grid xl:grid-cols-4 xl:gap-x-6","children":[["$","div",null,{"className":"pt-2 xl:col-span-3 xl:row-span-2 xl:pb-0","children":[["$","div",null,{"className":"prose dark:prose-invert max-w-none pb-8","children":[["$","figure",null,{"className":"mb-2","children":[["$","$L7",null,{"src":"/static/posts/lockchains.jpg","alt":"Lock and chains","className":"mb-0 aspect-16/9 object-cover pb-1","height":536.63,"width":954}],["$","figcaption",null,{"children":["$","center",null,{"children":["Image source:"," ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://unsplash.com/photos/macro-shot-of-stainless-steel-padlock-pZld9PiPDno","children":"Unsplash"}]]}]}]]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"introduction","children":[["$","a",null,{"className":"break-words","href":"#introduction","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Introduction"]}],["$","p",null,{"children":"Let's imagine that you've set up your project in GitHub and you've also got your build and deploy pipeline configured and working using GitHub Actions — well done!"}],["$","p",null,{"children":"You've given your team a quick shareback on how you did it and the team is now upskilled in using this workflow. A couple of weeks go by, and your team is starting to feel comfortable but then someone in the team decides to take a shortcut."}],["$","p",null,{"children":["They create a branch called ",["$","em",null,{"children":"feature-x"}]," and update the workflow trigger such that commits from this ",["$","em",null,{"children":"feature-x"}]," branch go all the way to production. Disaster!"]}],["$","$L17",null,{"className":"language-yml","children":["$","code",null,{"className":"language-yml code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token atrule key","children":"on"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token atrule key","children":"push"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"branches"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token string","children":"'main'"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token string","children":"'feature-x'"}]," ",["$","span",null,{"className":"token comment","children":"# They added this line. Disaster!"}],"\n"]}]]}]}],["$","p",null,{"children":"They've managed to push changes from a branch by working around the system. It wouldn't look good on their resume, but they probably don't care."}],["$","p",null,{"children":"So, how might we secure the system so that such a blunder doesn't happen? Let's take a look."}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"reproducing-the-problem","children":[["$","a",null,{"className":"break-words","href":"#reproducing-the-problem","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Reproducing the problem"]}],["$","p",null,{"children":"Let's scale this down to a simple GitHub Action that can be triggered manually. As you can see, the build and deploy steps just print a console message."}],["$","p",null,{"children":["I have a ",["$","em",null,{"children":"main"}]," branch and a ",["$","em",null,{"children":"test"}]," branch in my repository. From the ",["$","strong",null,{"children":"Actions"}]," page, I can manually trigger the workflow to run from the ",["$","em",null,{"children":"test"}]," branch, as seen in the screenshot below."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_-yQpVSdXwpy6vukEAFg62g.png","alt":"","width":"1351","height":"288"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":"As we'd expect, the workflow executes all the way through, thus reproducing the problem scenario where code can be deployed from a non-main branch."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_iPd8jKL-8yj388kETKKzAg.png","alt":"","width":"1834","height":"209"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"solution","children":[["$","a",null,{"className":"break-words","href":"#solution","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Solution"]}],["$","p",null,{"children":["We'll start by clicking on the GitHub repository ",["$","strong",null,{"children":"Settings"}]," and then click on ",["$","strong",null,{"children":"Environments"}]," and then add a new environment called ",["$","em",null,{"children":"production"}],"."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_XZJI7Wv6iPGuDrmiWWYZtg.png","alt":"","width":"370","height":"249"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":"After the environment is created in GitHub, we should be able to click on the environment and edit the environment settings."}],["$","p",null,{"children":["In the ",["$","strong",null,{"children":"Deployment branches and tags"}]," section, we'll click on ",["$","strong",null,{"children":"Selected branches and tags"}]," and then click on the ",["$","strong",null,{"children":"Add deployment branch or tag rule"}]," button."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_PA2FdXOWdjutxNHLumX0-w.png","alt":"","width":"1086","height":"324"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["In the pop-up, specify the branch name you want to whitelist, in other words, the branch which should be allowed to deploy to production from, and then click on the ",["$","strong",null,{"children":"Add rule"}]," button. For this article, I've added the branch ",["$","em",null,{"children":"main"}]," to this list. Don't forget to also click the ",["$","strong",null,{"children":"Save protection rules"}]," button."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_MLFHxNJ4v1rjm5u0Oz1cOA.png","alt":"","width":"864","height":"385"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["We'll also add the ",["$","em",null,{"children":"environment"}]," key to the ",["$","em",null,{"children":"deploy"}]," job, as per the code snippet below. The remainder of the workflow file remains as above. Let's set the environment name the same as what we created earlier, i.e. ",["$","em",null,{"children":"production"}],". If you have multiple deployment jobs per environment, then you could repeat the process for all of them and name them appropriately."]}],["$","$L17",null,{"className":"language-yml","children":["$","code",null,{"className":"language-yml code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token atrule key","children":"deploy"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token atrule key","children":"environment"}],["$","span",null,{"className":"token punctuation","children":":"}]," production\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token atrule key","children":"needs"}],["$","span",null,{"className":"token punctuation","children":":"}]," build\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token atrule key","children":"runs-on"}],["$","span",null,{"className":"token punctuation","children":":"}]," ubuntu",["$","span",null,{"className":"token punctuation","children":"-"}],"latest\n"]}]]}]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"testing-the-solution","children":[["$","a",null,{"className":"break-words","href":"#testing-the-solution","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Testing the solution"]}],["$","p",null,{"children":["Let's try to manually trigger the workflow from the ",["$","em",null,{"children":"test"}]," branch now."]}],["$","p",null,{"children":"As you can see from the screenshot below, the job has failed because it didn't meet the environment protection rules. Hooray!"}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_7SyHSAMXNDCl83B2_sNHgQ.png","alt":"","width":"1363","height":"395"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"somethings-to-consider","children":[["$","a",null,{"className":"break-words","href":"#somethings-to-consider","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Somethings to consider"]}],["$","p",null,{"children":"If it doesn't meet the environment protection rules, it fails the job, as seen above. While this is functionally what you want, it could also trigger any SLOs or alerts you might've set up for failures. If you have set something up, ensure that you cater to this scenario."}],["$","p",null,{"children":["This solution relies on setting the ",["$","code",null,{"children":"environment: production"}]," tag to the ",["$","em",null,{"children":"deploy"}]," job. This is part of the workflow code and unfortunately, in the ",["$","em",null,{"children":"test"}]," or ",["$","em",null,{"children":"feature-x"}]," branch, someone can either remove this line of code or update this to an environment tag which doesn't have the protection rules."]}],["$","p",null,{"children":"The environment protection rules page in GitHub is available for all repository owners. So, if everyone in the team has this role, then anyone can come to this page and just remove the protection rules, making all this effort go to waste."}],["$","p",null,{"children":"That's it! Thanks for reading."}]]}],["$","div",null,{"className":"pt-6 pb-6 text-center text-gray-700 dark:text-gray-300","id":"comment","children":["$","$L18",null,{"slug":"restrict-github-actions-deployments"}]}]]}],["$","$L19",null,{"content":"$c:1:props:children:1:props:children:0:props:content","authorDetails":[{"name":"Clyde D'Souza","avatar":"/static/images/clydedsouza.jpg","occupation":"Senior Software Engineer. Digital Content Creator.","bio":"Hi, I'm Clyde. I'm a software engineer and digital content creator based in Auckland, New Zealand. I write about various technologies, teach online classes, make videos, and I'm also the author of a children's bedtime storybook!","email":"address@yoursite.com","twitter":"https://twitter.com/clydedz","linkedin":"https://www.linkedin.com/in/clydedz/","github":"https://github.com/clydedz","kofi":"https://ko-fi.com/L3L026ITT","type":"Authors","readingTime":{"text":"1 min read","minutes":0.18,"time":10800,"words":36},"slug":"default","path":"authors/default","filePath":"authors/default.mdx","toc":[]}],"next":{"title":"Should Computers Be Given Emotional Intelligence?","date":"2025-01-25T00:00:00.000Z","tags":["SciFi","Artificial Intelligence","AGI","AI","OpenAI"],"readingList":["Artificial Intelligence"],"lastmod":"2025-01-25T00:00:00.000Z","draft":false,"subtitle":"A philosophical essay","images":["/static/posts/aigenbrain.jpg"],"type":"Blog","readingTime":{"text":"21 min read","minutes":20.355,"time":1221300,"words":4071},"slug":"should-computers-be-given-emotional-intelligence","path":"posts/should-computers-be-given-emotional-intelligence","filePath":"posts/should-computers-be-given-emotional-intelligence.mdx","toc":[{"value":"Introduction","url":"#introduction","depth":3},{"value":"Will computers understand emotions?","url":"#will-computers-understand-emotions","depth":3},{"value":"Will computers make emotional decisions rationally or rational decisions emotionally?","url":"#will-computers-make-emotional-decisions-rationally-or-rational-decisions-emotionally","depth":3},{"value":"In our journey to making computers similar to humans, are we ourselves becoming less human?","url":"#in-our-journey-to-making-computers-similar-to-humans-are-we-ourselves-becoming-less-human","depth":3},{"value":"Conclusion","url":"#conclusion","depth":3},{"value":"References","url":"#references","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"Should Computers Be Given Emotional Intelligence?","datePublished":"2025-01-25T00:00:00.000Z","dateModified":"2025-01-25T00:00:00.000Z","description":"A philosophical essay","image":"/static/posts/aigenbrain.jpg","url":"https://blog.clydedsouza.net/posts/should-computers-be-given-emotional-intelligence"}},"prev":{"title":"Manual Approval in GitHub Actions","date":"2024-12-29T00:00:00.000Z","tags":["Github","GitHub Actions","CICD","Github Workflow","Build And Deploy"],"readingList":["GitHub Actions"],"lastmod":"2024-12-29T00:00:00.000Z","draft":false,"subtitle":"Learn how to only deploy when someone has approved it","images":["/static/posts/uncle.jpg"],"type":"Blog","readingTime":{"text":"4 min read","minutes":3.73,"time":223800,"words":746},"slug":"manual-approval-in-github-actions","path":"posts/manual-approval-in-github-actions","filePath":"posts/manual-approval-in-github-actions.mdx","toc":[{"value":"The problem","url":"#the-problem","depth":3},{"value":"The set up","url":"#the-set-up","depth":3},{"value":"The solution","url":"#the-solution","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"Manual Approval in GitHub Actions","datePublished":"2024-12-29T00:00:00.000Z","dateModified":"2024-12-29T00:00:00.000Z","description":"Learn how to only deploy when someone has approved it","image":"/static/posts/uncle.jpg","url":"https://blog.clydedsouza.net/posts/manual-approval-in-github-actions","author":[{"@type":"Person","name":"Clyde D'Souza"}]}},"children":"$c:1:props:children:1:props:children:1:props:children:0:props:children:0:props:children"}]]}]]}]]}]]
11:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
e:null
f:null
13:[["$","title","0",{"children":"Restrict GitHub Actions Deployments | Clyde's Blog"}],["$","meta","1",{"name":"description","content":"Protection rules to the rescue"}],["$","meta","2",{"name":"robots","content":"index, follow"}],["$","meta","3",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","4",{"rel":"canonical","href":"https://blog.clydedsouza.net/posts/restrict-github-actions-deployments"}],["$","link","5",{"rel":"alternate","type":"application/rss+xml","href":"https://blog.clydedsouza.net/feed.xml"}],["$","meta","6",{"property":"og:title","content":"Restrict GitHub Actions Deployments"}],["$","meta","7",{"property":"og:description","content":"Protection rules to the rescue"}],["$","meta","8",{"property":"og:url","content":"https://blog.clydedsouza.net/posts/restrict-github-actions-deployments"}],["$","meta","9",{"property":"og:site_name","content":"Clyde's Blog"}],["$","meta","10",{"property":"og:locale","content":"en_US"}],["$","meta","11",{"property":"og:image","content":"https://blog.clydedsouza.net/static/posts/lockchains.jpg"}],["$","meta","12",{"property":"og:type","content":"article"}],["$","meta","13",{"property":"article:published_time","content":"2025-01-21T00:00:00.000Z"}],["$","meta","14",{"property":"article:modified_time","content":"2025-01-21T00:00:00.000Z"}],["$","meta","15",{"property":"article:author","content":"Clyde D'Souza"}],["$","meta","16",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","17",{"name":"twitter:title","content":"Restrict GitHub Actions Deployments"}],["$","meta","18",{"name":"twitter:description","content":"Protection rules to the rescue"}],["$","meta","19",{"name":"twitter:image","content":"https://blog.clydedsouza.net/static/posts/lockchains.jpg"}]]
