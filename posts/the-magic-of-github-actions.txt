1:"$Sreact.fragment"
2:I[2947,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"RegisterAnalytics"]
3:I[446,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"ThemeProviders"]
4:I[9243,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],""]
5:I[7392,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"KBarSearchProvider"]
6:I[6874,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],""]
7:I[3063,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"Image"]
8:I[4159,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"KBarButton"]
9:I[7773,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"default"]
a:I[7555,[],""]
b:I[1295,[],""]
d:I[9665,[],"OutletBoundary"]
10:I[9665,[],"ViewportBoundary"]
12:I[9665,[],"MetadataBoundary"]
14:I[6614,[],""]
:HL["/_next/static/media/e4af272ccee01ff0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/991d5e3381d79286.css","style"]
:HL["/_next/static/css/37f456282b5838dd.css","style"]
:HL["/_next/static/css/a821df72551a909a.css","style"]
:HL["/_next/static/css/252e266d7553d403.css","style"]
0:{"P":null,"b":"oscSY-0MPVMnPtFuskdJZ","p":"","c":["","posts","the-magic-of-github-actions"],"i":false,"f":[[["",{"children":["posts",{"children":[["slug","the-magic-of-github-actions","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/991d5e3381d79286.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/37f456282b5838dd.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en-us","className":"__variable_93ed5b scroll-smooth","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"apple-touch-icon","sizes":"76x76","href":"/static/favicons/apple-touch-icon-76x76.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/static/favicons/apple-touch-icon-57x57.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/static/favicons/apple-touch-icon-57x57.png"}],["$","link",null,{"rel":"manifest","href":"/static/favicons/site.webmanifest"}],["$","link",null,{"rel":"mask-icon","href":"/static/favicons/apple-touch-icon-120x120.png","color":"#10984d"}],["$","meta",null,{"name":"google-adsense-account","content":"ca-pub-4666761687967451"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#10984d"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"#10984d"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"#10984d"}],["$","link",null,{"rel":"alternate","type":"application/rss+xml","href":"/feed.xml"}],["$","body",null,{"className":"bg-white text-black antialiased dark:bg-gray-950 dark:text-white","children":[["$","script",null,{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4666761687967451","crossOrigin":"anonymous"}],["$","$L2",null,{}],["$","$L3",null,{"children":[["$undefined",[["$","$L4",null,{"strategy":"lazyOnload","id":"sa-script","children":"\n            window.sa_event=window.sa_event||function(){var a=[].slice.call(arguments);window.sa_event.q?window.sa_event.q.push(a):window.sa_event.q=[a]};\n        "}],["$","$L4",null,{"strategy":"lazyOnload","src":"https://scripts.simpleanalyticscdn.com/latest.js"}]],"$undefined","$undefined","$undefined","$undefined"],["$","$L5",null,{"kbarConfig":{"searchDocumentsPath":"/search.json"},"children":[["$","header",null,{"className":"border-t-primary-500 sticky top-0 z-50 flex h-14 w-full items-center justify-between border-t-4 bg-white/95 px-8 py-4 backdrop-blur-lg dark:bg-gray-950","children":[["$","$L6",null,{"className":"break-words","href":"/","aria-label":"Clyde's Blog","children":["$","div",null,{"className":"flex items-center justify-between","children":[["$","div",null,{"className":"mr-3","children":["$","$L7",null,{"src":"/static/images/clydedsouza.jpg","width":35,"height":35,"style":{"borderRadius":"100px"},"priority":true,"alt":"Picture of the author"}]}],["$","div",null,{"className":"hidden text-xl font-semibold md:block","children":"Clyde's Blog"}]]}]}],["$","div",null,{"className":"flex items-center space-x-4 leading-5 sm:-mr-6 sm:space-x-6","children":[["$","$L8",null,{"aria-label":"Search","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","className":"hover:text-primary-500 dark:hover:text-primary-400 h-6 w-6 text-gray-900 dark:text-gray-100","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}]}]}],["$","div",null,{"className":"no-scrollbar hidden max-w-80 items-center gap-x-4 overflow-x-auto sm:flex md:max-w-72 lg:max-w-96","children":[["$","$L6","All posts",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 text-sm font-medium text-gray-900 dark:text-gray-100","href":"/posts","children":"All posts"}]]}],["$","a",null,{"className":"flex items-center justify-center gap-4 rounded-full bg-black px-2 py-1 text-sm text-white transition-colors duration-200 hover:bg-teal-500 focus:bg-teal-500 sm:px-4 sm:py-2 dark:bg-teal-500 dark:hover:bg-black dark:focus:bg-black","target":"_blank","rel":"noopener noreferrer","href":"https://clydedsouza.net","children":["$","span",null,{"className":"whitespace-nowrap","children":"Visit my website"}]}],false,["$","$L9",null,{}]]}]]}],["$","main",null,{"className":"mb-auto","children":["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","section",null,{"className":"mx-auto max-w-7xl px-2 sm:px-6 xl:max-w-7xl xl:px-0","children":[["$","h1",null,{"className":"py-6 text-5xl font-extrabold tracking-tight text-gray-900 sm:text-5xl sm:leading-10 md:text-5xl md:leading-14 dark:text-gray-100","children":"Sorry, this page doesn't exist."}],["$","div",null,{"className":"flex w-full flex-wrap","children":"Try heading to the homepage for a fresh start or using the search above to look for content."}],["$","div",null,{"className":"my-6 flex w-full flex-wrap","children":["$","$L6",null,{"className":"bg-primary-500 flex items-center justify-center gap-4 rounded-full px-4 py-2 text-white transition-colors duration-200 hover:bg-slate-800 focus:bg-slate-800 sm:px-8 sm:py-2","href":"/","children":"Back to homepage"}]}]]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],["$","footer",null,{"children":["$","div",null,{"className":"mt-6 flex flex-col items-center","children":[["$","div",null,{"className":"mb-3 flex space-x-4","children":[["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"mailto:clyde@clydedsouza.net","children":[["$","span",null,{"className":"sr-only","children":"mail"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 20 20","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Mail"}],["$","path",null,{"d":"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}],["$","path",null,{"d":"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz","children":[["$","span",null,{"className":"sr-only","children":"github"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"GitHub"}],["$","path",null,{"d":"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}]]}]]}],null,["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://www.youtube.com/@clydedz","children":[["$","span",null,{"className":"sr-only","children":"youtube"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Youtube"}],["$","path",null,{"d":"M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://www.linkedin.com/in/clydedz/","children":[["$","span",null,{"className":"sr-only","children":"linkedin"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Linkedin"}],["$","path",null,{"d":"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"}]]}]]}],null,null,["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://twitter.com/clydedz","children":[["$","span",null,{"className":"sr-only","children":"x"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"X"}],["$","path",null,{"d":"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"}]]}]]}],null,null,null]}],["$","div",null,{"className":"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400","children":[["$","div",null,{"children":["Copyright ©"," ",["$","a",null,{"className":"hover:text-primary-500 cursor-pointer hover:underline","target":"_blank","rel":"noopener noreferrer","href":"https://clydedsouza.net","children":"Clyde D'Souza"}]," ",2025,"."]}],["$","div",null,{"children":"All rights reserved."}]]}],["$","div",null,{"className":"mb-8 text-sm text-gray-500 dark:text-gray-400","children":["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/timlrx/tailwind-nextjs-starter-blog","children":"Thanks to this blog theme"}]}]]}]}]]}]]}]]}]]}],{"children":["posts",["$","$1","c",{"children":[null,["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","the-magic-of-github-actions","c"],["$","$1","c",{"children":[null,["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Lc","$undefined",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/a821df72551a909a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/252e266d7553d403.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$Ld",null,{"children":["$Le","$Lf",null]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","37i565_KOeFsOn7F10B35",{"children":[["$","$L10",null,{"children":"$L11"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],["$","$L12",null,{"children":"$L13"}]]}],false]],"m":"$undefined","G":["$14","$undefined"],"s":false,"S":true}
15:I[3428,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
16:I[1130,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"PostHeader"]
17:I[2100,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
18:I[1954,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
19:I[3926,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"PostAside"]
c:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"The Magic of GitHub Actions\",\"datePublished\":\"2024-06-10T00:00:00.000Z\",\"dateModified\":\"2024-06-10T00:00:00.000Z\",\"description\":\"Publishing the same code base to two different npm registries\",\"image\":\"/static/posts/railpaths.jpg\",\"url\":\"https://blog.clydedsouza.net/posts/the-magic-of-github-actions\",\"author\":[{\"@type\":\"Person\",\"name\":\"Clyde D'Souza\"}]}"}}],["$","section",null,{"className":"mx-auto max-w-7xl px-2 sm:px-6 xl:max-w-7xl xl:px-0","children":[["$","$L15",null,{}],["$","article",null,{"className":"xl:dark:divide-gray-700","children":[["$","$L16",null,{"content":{"title":"The Magic of GitHub Actions","date":"2024-06-10T00:00:00.000Z","tags":["Github","GitHub Actions","NPM","Github Package","Github Workflow"],"readingList":["GitHub Actions","NPM Library"],"lastmod":"2024-06-10T00:00:00.000Z","draft":false,"subtitle":"Publishing the same code base to two different npm registries","images":["/static/posts/railpaths.jpg"],"type":"Blog","readingTime":{"text":"6 min read","minutes":5.54,"time":332400,"words":1108},"slug":"the-magic-of-github-actions","path":"posts/the-magic-of-github-actions","filePath":"posts/the-magic-of-github-actions.mdx","toc":[{"value":"Introduction","url":"#introduction","depth":3},{"value":"Getting the GitHub Action ready","url":"#getting-the-github-action-ready","depth":3},{"value":"Building the npm package","url":"#building-the-npm-package","depth":4},{"value":"Publishing the npm package","url":"#publishing-the-npm-package","depth":4},{"value":"Running the GitHub Action","url":"#running-the-github-action","depth":3},{"value":"Let's bring an Action to the rescue","url":"#lets-bring-an-action-to-the-rescue","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"The Magic of GitHub Actions","datePublished":"2024-06-10T00:00:00.000Z","dateModified":"2024-06-10T00:00:00.000Z","description":"Publishing the same code base to two different npm registries","image":"/static/posts/railpaths.jpg","url":"https://blog.clydedsouza.net/posts/the-magic-of-github-actions","author":[{"@type":"Person","name":"Clyde D'Souza"}]}}}],["$","div",null,{"className":"grid-rows-[auto_1fr] pb-8 xl:grid xl:grid-cols-4 xl:gap-x-6","children":[["$","div",null,{"className":"pt-2 xl:col-span-3 xl:row-span-2 xl:pb-0","children":[["$","div",null,{"className":"prose dark:prose-invert max-w-none pb-8","children":[["$","figure",null,{"className":"mb-2","children":[["$","$L7",null,{"src":"/static/posts/railpaths.jpg","alt":"Featured photo of a rail road","className":"mb-0 aspect-16/9 object-cover pb-1","height":536.63,"width":954}],["$","figcaption",null,{"children":["$","center",null,{"children":["Image source:"," ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://unsplash.com/photos/brown-metal-train-rail-near-rocky-mountain-during-daytime-nShLC-WruxQ","children":"Unsplash"}]]}]}]]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"introduction","children":[["$","a",null,{"className":"break-words","href":"#introduction","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Introduction"]}],["$","p",null,{"children":"If you're developing an npm package, you might want to publish the same piece of code to multiple npm registries to potentially cater to a broader audience. Let's say we decide to publish our npm package to npm js and GitHub. Although this may seem straightforward, it has one little quirk we need to get around. Let's take a look!"}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"getting-the-github-action-ready","children":[["$","a",null,{"className":"break-words","href":"#getting-the-github-action-ready","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Getting the GitHub Action ready"]}],["$","p",null,{"children":["We have our npm package in ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/horoscope-npm","children":"this GitHub repository"}]," so naturally we'll be using GitHub Actions to build and publish our npm package. You can view the entire ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/horoscope-npm/blob/main/.github/workflows/npm_lib.yaml","children":"workflow file here"}],", but let me break it down for you in this article."]}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"building-the-npm-package","children":[["$","a",null,{"className":"break-words","href":"#building-the-npm-package","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Building the npm package"]}],["$","p",null,{"children":"The steps outlined in the code snippet below are responsible for checking out the code from the repository, installing the dependencies, running the required tools to ensure consistency in coding standards, running unit tests to ensure new changes don't break the project, and finally building the project to compile TypeScript into the JavaScript output."}],["$","$L17",null,{"className":"language-yml","children":["$","code",null,{"className":"language-yml code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token atrule key","children":"steps"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token atrule key","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Checkout code\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"uses"}],["$","span",null,{"className":"token punctuation","children":":"}]," actions/checkout@v3\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token atrule key","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Install Node.js\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"uses"}],["$","span",null,{"className":"token punctuation","children":":"}]," actions/setup",["$","span",null,{"className":"token punctuation","children":"-"}],"node@v1\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"with"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token atrule key","children":"node-version"}],["$","span",null,{"className":"token punctuation","children":":"}]," 20.x\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token atrule key","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Install dependencies\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"run"}],["$","span",null,{"className":"token punctuation","children":":"}]," npm ci\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token atrule key","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Run lint\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"run"}],["$","span",null,{"className":"token punctuation","children":":"}]," npm run lint\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token atrule key","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Run prettier\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"run"}],["$","span",null,{"className":"token punctuation","children":":"}]," npm run pretty\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token atrule key","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Run tests\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"run"}],["$","span",null,{"className":"token punctuation","children":":"}]," npm run test\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token atrule key","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Build package\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"run"}],["$","span",null,{"className":"token punctuation","children":":"}]," npm run build\n"]}]]}]}],["$","p",null,{"children":"These set of steps should be pretty standard if you're working on multiple TypeScript projects."}],["$","h4",null,{"className":"content-header mt-8 mb-6","id":"publishing-the-npm-package","children":[["$","a",null,{"className":"break-words","href":"#publishing-the-npm-package","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Publishing the npm package"]}],["$","p",null,{"children":"Once the build steps are done, we primarily add two more steps to publish the npm package — one to the npm js registry and the other to the GitHub registry — which is shown in the code snippet below. The benefit of using GitHub Actions is that you don't have to write all the commands yourself. We can use Actions from the GitHub marketplace that have been developed and published by other developers from the community, simply supply a few parameters, and voila!"}],["$","$L17",null,{"className":"language-yml","children":["$","code",null,{"className":"language-yml code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token atrule key","children":"steps"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token atrule key","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Publish package to npm\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"id"}],["$","span",null,{"className":"token punctuation","children":":"}]," publish\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"uses"}],["$","span",null,{"className":"token punctuation","children":":"}]," JS",["$","span",null,{"className":"token punctuation","children":"-"}],"DevTools/npm",["$","span",null,{"className":"token punctuation","children":"-"}],"publish@v2\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"with"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token atrule key","children":"token"}],["$","span",null,{"className":"token punctuation","children":":"}]," $",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"{"}]," secrets.NPM_TOKEN ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token atrule key","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Publish package to GitHub\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"id"}],["$","span",null,{"className":"token punctuation","children":":"}]," publishgithub\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"uses"}],["$","span",null,{"className":"token punctuation","children":":"}]," JS",["$","span",null,{"className":"token punctuation","children":"-"}],"DevTools/npm",["$","span",null,{"className":"token punctuation","children":"-"}],"publish@v2\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"with"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token atrule key","children":"token"}],["$","span",null,{"className":"token punctuation","children":":"}]," $",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"{"}]," secrets.GITHUB_TOKEN ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token atrule key","children":"registry"}],["$","span",null,{"className":"token punctuation","children":":"}]," ",["$","span",null,{"className":"token string","children":"'https://npm.pkg.github.com'"}],"\n"]}]]}]}],["$","p",null,{"children":["The ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/marketplace/actions/npm-publish","children":"JS-DevTools/npm-publish"}]," Action encapsulates all the underlying commands to publish the package not only to the npm js registry but also to other third-party registries that implement the CommonJS Package Registry specification."]}],["$","p",null,{"children":["For the publish to npm step, we'll need to head to the access tokens page in npm js and ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://docs.npmjs.com/creating-and-viewing-access-tokens","children":"create a granular token"}]," with write access. We'll then add this token value as a ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions#creating-secrets-for-a-repository","children":"GitHub secret"}]," with the key ",["$","code",null,{"children":"NPM_TOKEN"}]," so this value can be fetched from the GitHub Action using the syntax ",["$","code",null,{"children":"$${{ secrets.NPM_TOKEN }}"}]," and supplied to our step."]}],["$","blockquote",null,{"children":["$","p",null,{"children":"Tip: While creating a granular npm access token, you can limit the scope of the token to only one package so that your token can only write to one package. But until you publish the package, it won't show up in the options to choose from. I've gotten around this by publishing a beta version of the package to npm js via the command line just before creating the token so that when I do create the token, I can limit its scope to just this package."}]}],["$","p",null,{"children":["For the publish to GitHub step, we'll need to supply it with ",["$","code",null,{"children":"$${{ secrets.GITHUB_TOKEN }}"}]," which is a built-in token that's made available by GitHub for such use cases. I've written a bit more about this in this article, so feel free to add it to your reading list."]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"running-the-github-action","children":[["$","a",null,{"className":"break-words","href":"#running-the-github-action","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Running the GitHub Action"]}],["$","p",null,{"children":"Now that we're done writing the GitHub Action workflow file, it's time to run it and see the magic happen. You can do this simply by pushing a new change to your GitHub repository, something small like even bumping the version in the package.json file, and this will trigger the GitHub Action."}],["$","p",null,{"children":"But wait, if we take a look at the logs, we see that while the publishing to npm step has succeeded, the publish to GitHub step has failed. Why is that?"}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_UJA9r3YnOPGKjJK7oluEjg.png","alt":"","width":"1286","height":"501"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["If you've followed the article I linked above, then certainly the problem shouldn't be related to the permissions that the GitHub token has. After some reading, I found ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/orgs/community/discussions/52267#discussioncomment-5554918","children":"this answer"}]," that basically says that the scope of the package should match the GitHub username or the GitHub organization name that this package is being published to."]}],["$","p",null,{"children":["My GitHub username is ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz","children":"clydedz"}]," and the scope I was using for the npm package is @clydedsouza. All I needed was to update this replacing ",["$","code",null,{"children":"@clydedsouza/horoscope"}]," with ",["$","code",null,{"children":"@clydedz/horoscope"}],", as shown in the code snippet below."]}],["$","p",null,{"children":["This all seems straightforward, but I cannot update the package.json file in the repository because then I'd have the opposite problem — my npm js username is ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://www.npmjs.com/~clydedsouza","children":"clydedsouza"}]," and if I try to publish a package with the scope clydedz, npm js will disallow."]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"lets-bring-an-action-to-the-rescue","children":[["$","a",null,{"className":"break-words","href":"#lets-bring-an-action-to-the-rescue","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Let's bring an Action to the rescue"]}],["$","p",null,{"children":"There might be a few ways to solve this problem and if you can think of one, feel free to drop them in the comments below, but for this article, I'll share the solution that I ended up implementing."}],["$","p",null,{"children":["After I published the npm package to the npm js registry, I added a new action called ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/marketplace/actions/update-json-file-values","children":"restackio/update-json-values-action"}],". This action allows me to replace values from a JSON file, and as you might've already suspected, I'm replacing @clydedsouza/horoscope with @clydedz/horoscope in the package.json file. This change is also shown in the code snippet below."]}],["$","$L17",null,{"className":"language-yml","children":["$","code",null,{"className":"language-yml code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token atrule key","children":"steps"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token atrule key","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Publish package to npm\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"id"}],["$","span",null,{"className":"token punctuation","children":":"}]," publish\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"uses"}],["$","span",null,{"className":"token punctuation","children":":"}]," JS",["$","span",null,{"className":"token punctuation","children":"-"}],"DevTools/npm",["$","span",null,{"className":"token punctuation","children":"-"}],"publish@v2\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"with"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token atrule key","children":"token"}],["$","span",null,{"className":"token punctuation","children":":"}]," $",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"{"}]," secrets.NPM_TOKEN ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token atrule key","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Update scope name in package json file for GitHub\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"uses"}],["$","span",null,{"className":"token punctuation","children":":"}]," restackio/update",["$","span",null,{"className":"token punctuation","children":"-"}],"json",["$","span",null,{"className":"token punctuation","children":"-"}],"values",["$","span",null,{"className":"token punctuation","children":"-"}],"action@v1.0.0\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"with"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token atrule key","children":"file"}],["$","span",null,{"className":"token punctuation","children":":"}]," package.json\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token atrule key","children":"values"}],["$","span",null,{"className":"token punctuation","children":":"}]," ",["$","span",null,{"className":"token string","children":"'{\"@clydedsouza/horoscope\": \"@clydedz/horoscope\"}'"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"-"}]," ",["$","span",null,{"className":"token atrule key","children":"name"}],["$","span",null,{"className":"token punctuation","children":":"}]," Publish package to GitHub\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"id"}],["$","span",null,{"className":"token punctuation","children":":"}]," publishgithub\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"uses"}],["$","span",null,{"className":"token punctuation","children":":"}]," JS",["$","span",null,{"className":"token punctuation","children":"-"}],"DevTools/npm",["$","span",null,{"className":"token punctuation","children":"-"}],"publish@v2\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token atrule key","children":"with"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token atrule key","children":"token"}],["$","span",null,{"className":"token punctuation","children":":"}]," $",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"{"}]," secrets.GITHUB_TOKEN ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token atrule key","children":"registry"}],["$","span",null,{"className":"token punctuation","children":":"}]," ",["$","span",null,{"className":"token string","children":"'https://npm.pkg.github.com'"}],"\n"]}]]}]}],["$","p",null,{"children":"This doesn't create a new file but just overwrites the existing package.json file in the workflow working directory. It doesn't commit the updated file to the git repository either. When the next step to publish the package to GitHub is executed, it uses this updated package.json file with the correct scope. Now when I run the Action again, it passes and publishes the package to the GitHub registry successfully."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_Tiik_hoDDP1S3q3lt8Lj2w.png","alt":"","width":"612","height":"406"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["The full source code for the project used in this article can be found ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/horoscope-npm","children":"here on GitHub"}],". If you have any questions, please feel free to comment down below."]}],["$","p",null,{"children":"That's it! Thanks for reading."}]]}],["$","div",null,{"className":"pt-6 pb-6 text-center text-gray-700 dark:text-gray-300","id":"comment","children":["$","$L18",null,{"slug":"the-magic-of-github-actions"}]}]]}],["$","$L19",null,{"content":"$c:1:props:children:1:props:children:0:props:content","authorDetails":[{"name":"Clyde D'Souza","avatar":"/static/images/clydedsouza.jpg","occupation":"Senior Software Engineer. Digital Content Creator.","bio":"Hi, I'm Clyde. I'm a software engineer and digital content creator based in Auckland, New Zealand. I write about various technologies, teach online classes, make videos, and I'm also the author of a children's bedtime storybook!","email":"address@yoursite.com","twitter":"https://twitter.com/clydedz","linkedin":"https://www.linkedin.com/in/clydedz/","github":"https://github.com/clydedz","kofi":"https://ko-fi.com/L3L026ITT","type":"Authors","readingTime":{"text":"1 min read","minutes":0.18,"time":10800,"words":36},"slug":"default","path":"authors/default","filePath":"authors/default.mdx","toc":[]}],"next":{"title":"Storybook: Configuring A11y Standards Made Easy","date":"2024-11-24T00:00:00.000Z","tags":["Storybook","Accessibility","WCAG","A11y","Wcag Guidelines"],"readingList":[],"lastmod":"2024-11-24T00:00:00.000Z","draft":false,"subtitle":"A guide to setting and customising accessibility standards in Storybook","images":["/static/posts/storybook.png"],"type":"Blog","readingTime":{"text":"5 min read","minutes":4.6,"time":276000,"words":920},"slug":"storybook-configuring-a11y-standards-made-easy","path":"posts/storybook-configuring-a11y-standards-made-easy","filePath":"posts/storybook-configuring-a11y-standards-made-easy.mdx","toc":[{"value":"Installing Storybook","url":"#installing-storybook","depth":3},{"value":"Adding accessibility (A11y)","url":"#adding-accessibility-a11y","depth":3},{"value":"But wait, what's WCAG?","url":"#but-wait-whats-wcag","depth":3},{"value":"Setting up custom a11y standard checks","url":"#setting-up-custom-a11y-standard-checks","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"Storybook: Configuring A11y Standards Made Easy","datePublished":"2024-11-24T00:00:00.000Z","dateModified":"2024-11-24T00:00:00.000Z","description":"A guide to setting and customising accessibility standards in Storybook","image":"/static/posts/storybook.png","url":"https://blog.clydedsouza.net/posts/storybook-configuring-a11y-standards-made-easy","author":[{"@type":"Person","name":"Clyde D'Souza"}]}},"prev":{"title":"The Shocking Environmental Price Tag of the Internet","date":"2024-04-02T00:00:00.000Z","tags":["Earth Day","Carbon Emissions","Sustainable Software","Sustainability","Environment"],"readingList":[],"lastmod":"2024-04-02T00:00:00.000Z","draft":false,"subtitle":"Uncovering Internet carbon footprint, complexities and sustainable software engineering solutions","images":["/static/posts/co2.jpg"],"type":"Blog","readingTime":{"text":"23 min read","minutes":22.04,"time":1322400,"words":4408},"slug":"the-shocking-environmental-price-tag-of-the-internet","path":"posts/the-shocking-environmental-price-tag-of-the-internet","filePath":"posts/the-shocking-environmental-price-tag-of-the-internet.mdx","toc":[{"value":"Introduction","url":"#introduction","depth":3},{"value":"Chapter 1: How does a website produce carbon?","url":"#chapter-1-how-does-a-website-produce-carbon","depth":3},{"value":"Chapter 2: Calculating the carbon emissions of a website","url":"#chapter-2-calculating-the-carbon-emissions-of-a-website","depth":3},{"value":"Chapter 3: Caveats and Complexities","url":"#chapter-3-caveats-and-complexities","depth":3},{"value":"Chapter 4: Big picture and motives","url":"#chapter-4-big-picture-and-motives","depth":3},{"value":"Carbon budgets and global policies","url":"#carbon-budgets-and-global-policies","depth":4},{"value":"Efforts from big companies","url":"#efforts-from-big-companies","depth":4},{"value":"Carbon neutral, net zero or carbon negative?","url":"#carbon-neutral-net-zero-or-carbon-negative","depth":4},{"value":"Scopes","url":"#scopes","depth":4},{"value":"Carbon credits","url":"#carbon-credits","depth":4},{"value":"Problems with carbon credits and offsets","url":"#problems-with-carbon-credits-and-offsets","depth":4},{"value":"The rise of the internet","url":"#the-rise-of-the-internet","depth":4},{"value":"Chapter 5: Moving Ahead","url":"#chapter-5-moving-ahead","depth":3},{"value":"Optimizing for performance","url":"#optimizing-for-performance","depth":4},{"value":"Optimizing for users","url":"#optimizing-for-users","depth":4},{"value":"Reducing our consumption rate","url":"#reducing-our-consumption-rate","depth":4},{"value":"Advocacy","url":"#advocacy","depth":4},{"value":"Conclusion","url":"#conclusion","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"The Shocking Environmental Price Tag of the Internet","datePublished":"2024-04-02T00:00:00.000Z","dateModified":"2024-04-02T00:00:00.000Z","description":"Uncovering Internet carbon footprint, complexities and sustainable software engineering solutions","image":"/static/posts/co2.jpg","url":"https://blog.clydedsouza.net/posts/the-shocking-environmental-price-tag-of-the-internet"}},"children":"$c:1:props:children:1:props:children:1:props:children:0:props:children:0:props:children"}]]}]]}]]}]]
11:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
e:null
f:null
13:[["$","title","0",{"children":"The Magic of GitHub Actions | Clyde's Blog"}],["$","meta","1",{"name":"description","content":"Publishing the same code base to two different npm registries"}],["$","meta","2",{"name":"robots","content":"index, follow"}],["$","meta","3",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","4",{"rel":"canonical","href":"https://blog.clydedsouza.net/posts/the-magic-of-github-actions"}],["$","link","5",{"rel":"alternate","type":"application/rss+xml","href":"https://blog.clydedsouza.net/feed.xml"}],["$","meta","6",{"property":"og:title","content":"The Magic of GitHub Actions"}],["$","meta","7",{"property":"og:description","content":"Publishing the same code base to two different npm registries"}],["$","meta","8",{"property":"og:url","content":"https://blog.clydedsouza.net/posts/the-magic-of-github-actions"}],["$","meta","9",{"property":"og:site_name","content":"Clyde's Blog"}],["$","meta","10",{"property":"og:locale","content":"en_US"}],["$","meta","11",{"property":"og:image","content":"https://blog.clydedsouza.net/static/posts/railpaths.jpg"}],["$","meta","12",{"property":"og:type","content":"article"}],["$","meta","13",{"property":"article:published_time","content":"2024-06-10T00:00:00.000Z"}],["$","meta","14",{"property":"article:modified_time","content":"2024-06-10T00:00:00.000Z"}],["$","meta","15",{"property":"article:author","content":"Clyde D'Souza"}],["$","meta","16",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","17",{"name":"twitter:title","content":"The Magic of GitHub Actions"}],["$","meta","18",{"name":"twitter:description","content":"Publishing the same code base to two different npm registries"}],["$","meta","19",{"name":"twitter:image","content":"https://blog.clydedsouza.net/static/posts/railpaths.jpg"}]]
