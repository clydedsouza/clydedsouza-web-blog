1:"$Sreact.fragment"
2:I[2947,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"RegisterAnalytics"]
3:I[446,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"ThemeProviders"]
4:I[9243,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],""]
5:I[7392,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"KBarSearchProvider"]
6:I[6874,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],""]
7:I[3063,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"Image"]
8:I[4159,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"KBarButton"]
9:I[7773,["933","static/chunks/c857e369-7d101bd487d2337f.js","545","static/chunks/c16f53c3-046ed8a6addafdf8.js","63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","95","static/chunks/95-4fad12d9cc13c226.js","177","static/chunks/app/layout-face4d0c09455148.js"],"default"]
a:I[7555,[],""]
b:I[1295,[],""]
d:I[9665,[],"OutletBoundary"]
10:I[9665,[],"ViewportBoundary"]
12:I[9665,[],"MetadataBoundary"]
14:I[6614,[],""]
:HL["/_next/static/media/e4af272ccee01ff0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/991d5e3381d79286.css","style"]
:HL["/_next/static/css/37f456282b5838dd.css","style"]
:HL["/_next/static/css/a821df72551a909a.css","style"]
:HL["/_next/static/css/252e266d7553d403.css","style"]
0:{"P":null,"b":"oscSY-0MPVMnPtFuskdJZ","p":"","c":["","posts","how-to-use-multiple-implementations-of-an-interface-in-net-core"],"i":false,"f":[[["",{"children":["posts",{"children":[["slug","how-to-use-multiple-implementations-of-an-interface-in-net-core","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/991d5e3381d79286.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/37f456282b5838dd.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en-us","className":"__variable_93ed5b scroll-smooth","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"apple-touch-icon","sizes":"76x76","href":"/static/favicons/apple-touch-icon-76x76.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/static/favicons/apple-touch-icon-57x57.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/static/favicons/apple-touch-icon-57x57.png"}],["$","link",null,{"rel":"manifest","href":"/static/favicons/site.webmanifest"}],["$","link",null,{"rel":"mask-icon","href":"/static/favicons/apple-touch-icon-120x120.png","color":"#10984d"}],["$","meta",null,{"name":"google-adsense-account","content":"ca-pub-4666761687967451"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#10984d"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"#10984d"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"#10984d"}],["$","link",null,{"rel":"alternate","type":"application/rss+xml","href":"/feed.xml"}],["$","body",null,{"className":"bg-white text-black antialiased dark:bg-gray-950 dark:text-white","children":[["$","script",null,{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4666761687967451","crossOrigin":"anonymous"}],["$","$L2",null,{}],["$","$L3",null,{"children":[["$undefined",[["$","$L4",null,{"strategy":"lazyOnload","id":"sa-script","children":"\n            window.sa_event=window.sa_event||function(){var a=[].slice.call(arguments);window.sa_event.q?window.sa_event.q.push(a):window.sa_event.q=[a]};\n        "}],["$","$L4",null,{"strategy":"lazyOnload","src":"https://scripts.simpleanalyticscdn.com/latest.js"}]],"$undefined","$undefined","$undefined","$undefined"],["$","$L5",null,{"kbarConfig":{"searchDocumentsPath":"/search.json"},"children":[["$","header",null,{"className":"border-t-primary-500 sticky top-0 z-50 flex h-14 w-full items-center justify-between border-t-4 bg-white/95 px-8 py-4 backdrop-blur-lg dark:bg-gray-950","children":[["$","$L6",null,{"className":"break-words","href":"/","aria-label":"Clyde's Blog","children":["$","div",null,{"className":"flex items-center justify-between","children":[["$","div",null,{"className":"mr-3","children":["$","$L7",null,{"src":"/static/images/clydedsouza.jpg","width":35,"height":35,"style":{"borderRadius":"100px"},"priority":true,"alt":"Picture of the author"}]}],["$","div",null,{"className":"hidden text-xl font-semibold md:block","children":"Clyde's Blog"}]]}]}],["$","div",null,{"className":"flex items-center space-x-4 leading-5 sm:-mr-6 sm:space-x-6","children":[["$","$L8",null,{"aria-label":"Search","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","className":"hover:text-primary-500 dark:hover:text-primary-400 h-6 w-6 text-gray-900 dark:text-gray-100","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}]}]}],["$","div",null,{"className":"no-scrollbar hidden max-w-80 items-center gap-x-4 overflow-x-auto sm:flex md:max-w-72 lg:max-w-96","children":[["$","$L6","All posts",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 text-sm font-medium text-gray-900 dark:text-gray-100","href":"/posts","children":"All posts"}]]}],["$","a",null,{"className":"flex items-center justify-center gap-4 rounded-full bg-black px-2 py-1 text-sm text-white transition-colors duration-200 hover:bg-teal-500 focus:bg-teal-500 sm:px-4 sm:py-2 dark:bg-teal-500 dark:hover:bg-black dark:focus:bg-black","target":"_blank","rel":"noopener noreferrer","href":"https://clydedsouza.net","children":["$","span",null,{"className":"whitespace-nowrap","children":"Visit my website"}]}],false,["$","$L9",null,{}]]}]]}],["$","main",null,{"className":"mb-auto","children":["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","section",null,{"className":"mx-auto max-w-7xl px-2 sm:px-6 xl:max-w-7xl xl:px-0","children":[["$","h1",null,{"className":"py-6 text-5xl font-extrabold tracking-tight text-gray-900 sm:text-5xl sm:leading-10 md:text-5xl md:leading-14 dark:text-gray-100","children":"Sorry, this page doesn't exist."}],["$","div",null,{"className":"flex w-full flex-wrap","children":"Try heading to the homepage for a fresh start or using the search above to look for content."}],["$","div",null,{"className":"my-6 flex w-full flex-wrap","children":["$","$L6",null,{"className":"bg-primary-500 flex items-center justify-center gap-4 rounded-full px-4 py-2 text-white transition-colors duration-200 hover:bg-slate-800 focus:bg-slate-800 sm:px-8 sm:py-2","href":"/","children":"Back to homepage"}]}]]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],["$","footer",null,{"children":["$","div",null,{"className":"mt-6 flex flex-col items-center","children":[["$","div",null,{"className":"mb-3 flex space-x-4","children":[["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"mailto:clyde@clydedsouza.net","children":[["$","span",null,{"className":"sr-only","children":"mail"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 20 20","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Mail"}],["$","path",null,{"d":"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}],["$","path",null,{"d":"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz","children":[["$","span",null,{"className":"sr-only","children":"github"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"GitHub"}],["$","path",null,{"d":"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}]]}]]}],null,["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://www.youtube.com/@clydedz","children":[["$","span",null,{"className":"sr-only","children":"youtube"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Youtube"}],["$","path",null,{"d":"M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://www.linkedin.com/in/clydedz/","children":[["$","span",null,{"className":"sr-only","children":"linkedin"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Linkedin"}],["$","path",null,{"d":"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"}]]}]]}],null,null,["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://twitter.com/clydedz","children":[["$","span",null,{"className":"sr-only","children":"x"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"X"}],["$","path",null,{"d":"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"}]]}]]}],null,null,null]}],["$","div",null,{"className":"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400","children":[["$","div",null,{"children":["Copyright ©"," ",["$","a",null,{"className":"hover:text-primary-500 cursor-pointer hover:underline","target":"_blank","rel":"noopener noreferrer","href":"https://clydedsouza.net","children":"Clyde D'Souza"}]," ",2025,"."]}],["$","div",null,{"children":"All rights reserved."}]]}],["$","div",null,{"className":"mb-8 text-sm text-gray-500 dark:text-gray-400","children":["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/timlrx/tailwind-nextjs-starter-blog","children":"Thanks to this blog theme"}]}]]}]}]]}]]}]]}]]}],{"children":["posts",["$","$1","c",{"children":[null,["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","how-to-use-multiple-implementations-of-an-interface-in-net-core","c"],["$","$1","c",{"children":[null,["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Lc","$undefined",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/a821df72551a909a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/252e266d7553d403.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$Ld",null,{"children":["$Le","$Lf",null]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","IYseuuuWCgnQwCd8_Xts8",{"children":[["$","$L10",null,{"children":"$L11"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],["$","$L12",null,{"children":"$L13"}]]}],false]],"m":"$undefined","G":["$14","$undefined"],"s":false,"S":true}
15:I[3428,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
16:I[1130,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"PostHeader"]
17:I[2100,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
18:I[1954,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"default"]
19:I[3926,["63","static/chunks/63-ad55bcfce8e065c4.js","874","static/chunks/874-746d756fcfba86f0.js","641","static/chunks/641-47b4c4efd59f87b8.js","156","static/chunks/app/posts/%5B...slug%5D/page-df88b9f0909334b2.js"],"PostAside"]
c:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"How To Use Multiple Implementations of an Interface in .NET Core?\",\"datePublished\":\"2023-10-19T00:00:00.000Z\",\"dateModified\":\"2023-10-19T00:00:00.000Z\",\"description\":\"Registering and retrieving multiple implementations from the IoC container\",\"image\":\"/static/posts/flowers.jpg\",\"url\":\"https://blog.clydedsouza.net/posts/how-to-use-multiple-implementations-of-an-interface-in-net-core\",\"author\":[{\"@type\":\"Person\",\"name\":\"Clyde D'Souza\"}]}"}}],["$","section",null,{"className":"mx-auto max-w-7xl px-2 sm:px-6 xl:max-w-7xl xl:px-0","children":[["$","$L15",null,{}],["$","article",null,{"className":"xl:dark:divide-gray-700","children":[["$","$L16",null,{"content":{"title":"How To Use Multiple Implementations of an Interface in .NET Core?","date":"2023-10-19T00:00:00.000Z","tags":["Dependency Injection","Inversion Of Control","Net Core","Aspnetcore","Software Engineering"],"readingList":[],"lastmod":"2023-10-19T00:00:00.000Z","draft":false,"subtitle":"Registering and retrieving multiple implementations from the IoC container","images":["/static/posts/flowers.jpg"],"type":"Blog","readingTime":{"text":"10 min read","minutes":9.03,"time":541800,"words":1806},"slug":"how-to-use-multiple-implementations-of-an-interface-in-net-core","path":"posts/how-to-use-multiple-implementations-of-an-interface-in-net-core","filePath":"posts/how-to-use-multiple-implementations-of-an-interface-in-net-core.mdx","toc":[{"value":"Introduction","url":"#introduction","depth":3},{"value":"Single implementation","url":"#single-implementation","depth":3},{"value":"Multiple implementations","url":"#multiple-implementations","depth":3},{"value":"How to fix this?","url":"#how-to-fix-this","depth":3},{"value":"Reassigning dependencies","url":"#reassigning-dependencies","depth":3},{"value":"Moving this logic up","url":"#moving-this-logic-up","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"How To Use Multiple Implementations of an Interface in .NET Core?","datePublished":"2023-10-19T00:00:00.000Z","dateModified":"2023-10-19T00:00:00.000Z","description":"Registering and retrieving multiple implementations from the IoC container","image":"/static/posts/flowers.jpg","url":"https://blog.clydedsouza.net/posts/how-to-use-multiple-implementations-of-an-interface-in-net-core","author":[{"@type":"Person","name":"Clyde D'Souza"}]}}}],["$","div",null,{"className":"grid-rows-[auto_1fr] pb-8 xl:grid xl:grid-cols-4 xl:gap-x-6","children":[["$","div",null,{"className":"pt-2 xl:col-span-3 xl:row-span-2 xl:pb-0","children":[["$","div",null,{"className":"prose dark:prose-invert max-w-none pb-8","children":[["$","figure",null,{"className":"mb-2","children":[["$","$L7",null,{"src":"/static/posts/flowers.jpg","alt":"Featured image of this article showing two identical looking flowers loosely representing the topic of this article.","className":"mb-0 aspect-16/9 object-cover pb-1","height":536.63,"width":954}],["$","figcaption",null,{"children":["$","center",null,{"children":["Image source: ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://unsplash.com/photos/EC7bv_A8JU0","children":"Unsplash"}]]}]}]]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"introduction","children":[["$","a",null,{"className":"break-words","href":"#introduction","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Introduction"]}],["$","p",null,{"children":"Dependency injection is built into ASP.NET Core allowing developers to achieve Inversion of Control (IoC) between classes and their dependencies. Normally, if class A calls a method on class B, class A has a direct dependency on class B. But with inversion of control, class A calls methods on an abstraction that B implements, thus only loosely coupling the two classes, unlike direct dependency which was tightly coupling the two."}],["$","p",null,{"children":"Inverting the dependency helps at compile time. The exact dependency class B doesn't need to be coded into class A, if class B depends on more classes, that doesn't need to be manually added in class A, and because of an abstract dependency on class B, writing unit tests and mocking class B in unit tests becomes easier. At runtime, though, things remain unchanged, class A still calls B."}],["$","p",null,{"children":"This works great when a single concrete class implements an interface and is then injected into dependent classes. But it's only when you introduce multiple implementations of the same interface into dependency injection that we start noticing an issue."}],["$","p",null,{"children":["In this article, we'll take a look at how we arrive at the problem and then how we might go about solving it and retrieving a specific service from the container. The complete source code for the example used in this article can be found in ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/multiple-implementations-di-ioc","children":"this GitHub repository"}],". And under each step of this article, you'll find a link to the specific changeset from this repository that reflects the example project at that step, in case you'd like to closely follow."]}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"single-implementation","children":[["$","a",null,{"className":"break-words","href":"#single-implementation","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Single implementation"]}],["$","blockquote",null,{"children":["$","p",null,{"children":["If you'd like to follow along, you can view the ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/multiple-implementations-di-ioc/tree/cdfa74f272f17096f3ff750c1ac774f08b06bcbb","children":"GitHub code repository"}]," as it was when this step was implemented."]}]}],["$","p",null,{"children":["We'll start with a simple console app, then add an interface and a single concrete class that implements the interface. You can recreate the specifics as per your liking, but if you'd like to follow the main ",["$","code",null,{"children":"App.cs"}]," file code snippet is below."]}],["$","$L17",null,{"className":"language-csharp","children":["$","code",null,{"className":"language-csharp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token namespace","children":["ConsoleDemoApp",["$","span",null,{"className":"token punctuation","children":"."}],"Interface"]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"namespace"}]," ",["$","span",null,{"className":"token namespace","children":"ConsoleDemoApp"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"App"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"private"}]," ",["$","span",null,{"className":"token keyword","children":"readonly"}]," ",["$","span",null,{"className":"token class-name","children":"IAnimals"}]," _domestic",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token function","children":"App"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"IAnimals"}]," domestic",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        _domestic ",["$","span",null,{"className":"token operator","children":"="}]," domestic",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token class-name return-type","children":["$","span",null,{"className":"token keyword","children":"void"}]}]," ",["$","span",null,{"className":"token function","children":"Run"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":[["$","span",null,{"className":"token keyword","children":"string"}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}]]}]," args",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        Console",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"WriteLine"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"Start console app\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        _domestic",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"PrintCharacteristics"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        Console",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"WriteLine"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"End console app\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["And in the ",["$","code",null,{"children":"Program.cs"}]," file, we'll register our dependencies."]}],["$","$L17",null,{"className":"language-csharp","children":["$","code",null,{"className":"language-csharp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token namespace","children":"ConsoleDemoApp"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token namespace","children":["ConsoleDemoApp",["$","span",null,{"className":"token punctuation","children":"."}],"Implementation"]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token namespace","children":["ConsoleDemoApp",["$","span",null,{"className":"token punctuation","children":"."}],"Interface"]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token namespace","children":["Microsoft",["$","span",null,{"className":"token punctuation","children":"."}],"Extensions",["$","span",null,{"className":"token punctuation","children":"."}],"DependencyInjection"]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token namespace","children":["Microsoft",["$","span",null,{"className":"token punctuation","children":"."}],"Extensions",["$","span",null,{"className":"token punctuation","children":"."}],"Hosting"]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token class-name","children":"IHost"}]," host ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"CreateHostBuilder"}],["$","span",null,{"className":"token punctuation","children":"("}],"args",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"Build"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token class-name","children":["$","span",null,{"className":"token keyword","children":"var"}]}]," scope ",["$","span",null,{"className":"token operator","children":"="}]," host",["$","span",null,{"className":"token punctuation","children":"."}],"Services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"CreateScope"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name","children":["$","span",null,{"className":"token keyword","children":"var"}]}]," services ",["$","span",null,{"className":"token operator","children":"="}]," scope",["$","span",null,{"className":"token punctuation","children":"."}],"ServiceProvider",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"try"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"GetRequiredService"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"App",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"Run"}],["$","span",null,{"className":"token punctuation","children":"("}],"args",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"catch"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"Exception"}]," e",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    Console",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"WriteLine"}],["$","span",null,{"className":"token punctuation","children":"("}],"e",["$","span",null,{"className":"token punctuation","children":"."}],"Message",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name return-type","children":"IHostBuilder"}]," ",["$","span",null,{"className":"token function","children":"CreateHostBuilder"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":[["$","span",null,{"className":"token keyword","children":"string"}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}]]}]," strings",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," Host",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"CreateDefaultBuilder"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"ConfigureServices"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],"_",["$","span",null,{"className":"token punctuation","children":","}]," services",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddScoped"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"IAnimals",["$","span",null,{"className":"token punctuation","children":","}]," Domestic",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddSingleton"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"App",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"When we run this console app, it prints the message from the concrete implementation."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_a8-Vf6GYtOGAXmJcDKs7NA.png","alt":"","width":"1183","height":"151"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":"If I add a breakpoint, it's evident that the registration of the dependency in the service container is done correctly and the injection of the dependency into the constructor of the class where it's used is also done correctly. The .NET framework will also take care of disposing of the injected dependency when it's no longer needed."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_oHNb6zT0apqkmmTeJ1FYhQ.png","alt":"","width":"907","height":"331"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":"Easy peasy so far? Good! For the rest of this article, we'll build on this codebase."}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"multiple-implementations","children":[["$","a",null,{"className":"break-words","href":"#multiple-implementations","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Multiple implementations"]}],["$","blockquote",null,{"children":["$","p",null,{"children":["If you'd like to follow along, you can view the ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/multiple-implementations-di-ioc/tree/2b5f345ec69dfacc4ab1ac1bce4fabb4273ea186","children":"GitHub code repository"}]," as it was when this step was implemented."]}]}],["$","p",null,{"children":["Let's extend the single implementation example and add another concrete class that implements ",["$","code",null,{"children":"IAnimals"}],". I've added this additional dependency to the constructor of the ",["$","code",null,{"children":"App"}]," class and also made use of this new dependency in the ",["$","code",null,{"children":"Run"}]," method."]}],["$","$L17",null,{"className":"language-csharp","children":["$","code",null,{"className":"language-csharp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token namespace","children":["ConsoleDemoApp",["$","span",null,{"className":"token punctuation","children":"."}],"Interface"]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"namespace"}]," ",["$","span",null,{"className":"token namespace","children":"ConsoleDemoApp"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"App"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"private"}]," ",["$","span",null,{"className":"token keyword","children":"readonly"}]," ",["$","span",null,{"className":"token class-name","children":"IAnimals"}]," _domestic",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"private"}]," ",["$","span",null,{"className":"token keyword","children":"readonly"}]," ",["$","span",null,{"className":"token class-name","children":"IAnimals"}]," _wild",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token function","children":"App"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"IAnimals"}]," domestic",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token class-name","children":"IAnimals"}]," wild",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        _domestic ",["$","span",null,{"className":"token operator","children":"="}]," domestic",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        _wild ",["$","span",null,{"className":"token operator","children":"="}]," wild",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token class-name return-type","children":["$","span",null,{"className":"token keyword","children":"void"}]}]," ",["$","span",null,{"className":"token function","children":"Run"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":[["$","span",null,{"className":"token keyword","children":"string"}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}]]}]," args",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        Console",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"WriteLine"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"Start console app\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        _domestic",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"PrintCharacteristics"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        _wild",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"PrintCharacteristics"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        Console",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"WriteLine"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"End console app\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["Don't forget to register this dependency with the service container in the ",["$","code",null,{"children":"Program"}]," class file. When we run this application, what do you think the output will be?"]}],["$","$L17",null,{"className":"language-csharp","children":["$","code",null,{"className":"language-csharp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name return-type","children":"IHostBuilder"}]," ",["$","span",null,{"className":"token function","children":"CreateHostBuilder"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":[["$","span",null,{"className":"token keyword","children":"string"}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}]]}]," strings",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," Host",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"CreateDefaultBuilder"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"ConfigureServices"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],"_",["$","span",null,{"className":"token punctuation","children":","}]," services",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddScoped"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"IAnimals",["$","span",null,{"className":"token punctuation","children":","}]," Domestic",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddScoped"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"IAnimals",["$","span",null,{"className":"token punctuation","children":","}]," Wild",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddSingleton"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"App",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["When we actually run the console app, you'll see duplicate messages printed on the console. This is because the last dependency in the constructor list in the ",["$","code",null,{"children":"App"}]," class is what overrides all dependencies of the type ",["$","code",null,{"children":"IAnimals"}],"."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_TYI592ADYKX4RflPM4f6Sw.png","alt":"","width":"893","height":"177"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["If we put a breakpoint in the constructor, we can see that both ",["$","code",null,{"children":"domestic"}]," and ",["$","code",null,{"children":"wild"}]," have the same implementation ",["$","code",null,{"children":"Wild"}]," injected into it."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_GYbDfpcAtSlxJf9yOZ3WZg.png","alt":"","width":"750","height":"221"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"how-to-fix-this","children":[["$","a",null,{"className":"break-words","href":"#how-to-fix-this","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"How to fix this?"]}],["$","p",null,{"children":["To resolve this issue, we'll replace the individually added dependencies with an ",["$","code",null,{"children":"IEnumerable"}]," list. This list will hold all the dependencies injected for the type ",["$","code",null,{"children":"IAnimals"}],". We can simply put a ",["$","code",null,{"children":"foreach"}]," loop to see this in action."]}],["$","$L17",null,{"className":"language-csharp","children":["$","code",null,{"className":"language-csharp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token namespace","children":["ConsoleDemoApp",["$","span",null,{"className":"token punctuation","children":"."}],"Interface"]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"namespace"}]," ",["$","span",null,{"className":"token namespace","children":"ConsoleDemoApp"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"App"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token function","children":"App"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":["IEnumerable",["$","span",null,{"className":"token punctuation","children":"<"}],"IAnimals",["$","span",null,{"className":"token punctuation","children":">"}]]}]," animals",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"foreach"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":["$","span",null,{"className":"token keyword","children":"var"}]}]," animal ",["$","span",null,{"className":"token keyword","children":"in"}]," animals",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            animal",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"PrintCharacteristics"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["If you'd like to follow along, you can view the ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/multiple-implementations-di-ioc/tree/36d6e763e5cdc074e6daadd2013a5d385df07c53","children":"GitHub code repository"}]," as it was when this step was implemented."]}]}],["$","p",null,{"children":"If you put a breakpoint and visualize the animals list in the code snippet, you'll see both concrete implementations in the list."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_K5qYimozZtHF8JzBpxjM9Q.png","alt":"","width":"812","height":"315"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["So technically, if all you wanted was to print a message from both implementations without worrying about the order, then this would be okay. As pictured below, both messages are printed, although before the messages from the ",["$","code",null,{"children":"Run"}]," method is executed."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_fCDTXvhrJnqDb_kZ4lbdWA.png","alt":"","width":"1176","height":"167"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"reassigning-dependencies","children":[["$","a",null,{"className":"break-words","href":"#reassigning-dependencies","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Reassigning dependencies"]}],["$","blockquote",null,{"children":["$","p",null,{"children":["If you'd like to follow along, you can view the ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/multiple-implementations-di-ioc/tree/3b1c03c08217f11285965eb446dd610cdf159079","children":"GitHub code repository"}]," as it was when this step was implemented."]}]}],["$","p",null,{"children":["Just looping through a ",["$","code",null,{"children":"foreach"}]," loop doesn't give us enough flexibility. What we need is to reassign these dependencies so we can use them individually."]}],["$","p",null,{"children":["Notice how the ",["$","code",null,{"children":"foreach"}]," loop looks like in the code snippet below. During each loop, we're checking the type of the current dependency, and then with the help of the ",["$","code",null,{"children":"GetService"}]," method from ",["$","code",null,{"children":"IServiceProvider"}],", we're resolving the service and assigning it to a local private variable. The little exclamation mark at the end is a ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/null-forgiving","children":"null-forgiving operator"}]," which tells the compiler that this isn't going to be null."]}],["$","div",null,{"className":"remark-code-title","children":"app.cs"}],["$","$L17",null,{"className":"language-csharp","children":["$","code",null,{"className":"language-csharp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token namespace","children":["ConsoleDemoApp",["$","span",null,{"className":"token punctuation","children":"."}],"Implementation"]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token namespace","children":["ConsoleDemoApp",["$","span",null,{"className":"token punctuation","children":"."}],"Interface"]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"using"}]," ",["$","span",null,{"className":"token namespace","children":["Microsoft",["$","span",null,{"className":"token punctuation","children":"."}],"Extensions",["$","span",null,{"className":"token punctuation","children":"."}],"DependencyInjection"]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"namespace"}]," ",["$","span",null,{"className":"token namespace","children":"ConsoleDemoApp"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"App"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"private"}]," ",["$","span",null,{"className":"token keyword","children":"readonly"}]," ",["$","span",null,{"className":"token class-name","children":"IAnimals"}]," _domestic",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"private"}]," ",["$","span",null,{"className":"token keyword","children":"readonly"}]," ",["$","span",null,{"className":"token class-name","children":"IAnimals"}]," _wild",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token function","children":"App"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":["IEnumerable",["$","span",null,{"className":"token punctuation","children":"<"}],"IAnimals",["$","span",null,{"className":"token punctuation","children":">"}]]}]," animals",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token class-name","children":"IServiceProvider"}]," serviceProvider",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"foreach"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":["$","span",null,{"className":"token keyword","children":"var"}]}]," animal ",["$","span",null,{"className":"token keyword","children":"in"}]," animals",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"animal",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"GetType"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=="}]," ",["$","span",null,{"className":"token keyword","children":"typeof"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name type-expression","children":"Domestic"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["                _domestic ",["$","span",null,{"className":"token operator","children":"="}]," serviceProvider",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"GetService"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"Domestic",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":"!"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"animal",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"GetType"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=="}]," ",["$","span",null,{"className":"token keyword","children":"typeof"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name type-expression","children":"Wild"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["                _wild ",["$","span",null,{"className":"token operator","children":"="}]," serviceProvider",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"GetService"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"Wild",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":"!"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token class-name return-type","children":["$","span",null,{"className":"token keyword","children":"void"}]}]," ",["$","span",null,{"className":"token function","children":"Run"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":[["$","span",null,{"className":"token keyword","children":"string"}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}]]}]," args",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        Console",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"WriteLine"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"Start console app\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        _domestic",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"PrintCharacteristics"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        _wild",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"PrintCharacteristics"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        Console",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"WriteLine"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"End console app\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["The ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://learn.microsoft.com/en-us/dotnet/api/microsoft.extensions.dependencyinjection.iservicecollection?view=dotnet-plat-ext-7.0","children":"IServiceCollection"}]," interface is used for building a dependency injection container, and after it's fully built, it gets composed into an ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://learn.microsoft.com/en-us/dotnet/api/system.iserviceprovider?view=net-7.0","children":"IServiceProvider"}]," instance which you can inject into any class and use to resolve services."]}],["$","p",null,{"children":"Because we're assigning each resolved service into its own variable, we can now independently use that to perform functions with it, like printing the messages from these concrete classes in the right places of the console app. But wait, when I run the application, I get a null reference exception!"}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_pPIEYHCyVl2MvRgqGjfTdw.png","alt":"","width":"905","height":"322"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["If I add a breakpoint to the constructor, you can see that although the ",["$","code",null,{"children":"animals"}]," list has both concrete implementations injected into it, the assigned variables ",["$","code",null,{"children":"_domestic"}]," and ",["$","code",null,{"children":"_wild"}]," is still null. This means that the service provider's ",["$","code",null,{"children":"GetService"}]," method isn't doing its magic."]}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_srCkkM1fjZpdLCCd1Bfhsw.png","alt":"","width":"1028","height":"241"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["What did we miss? Ah, we did not individually register these services in the service container in the ",["$","code",null,{"children":"Program"}]," class file. We've now added them in lines 9 and 10 in the code snippet below. Without this explicit registration, the service collection would've only contained a registration for ",["$","code",null,{"children":"IAnimals"}]," and not for ",["$","code",null,{"children":"Domestic"}]," or ",["$","code",null,{"children":"Wild"}],"."]}],["$","div",null,{"className":"remark-code-title","children":"program.cs"}],["$","$L17",null,{"className":"language-csharp","children":["$","code",null,{"className":"language-csharp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name return-type","children":"IHostBuilder"}]," ",["$","span",null,{"className":"token function","children":"CreateHostBuilder"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":[["$","span",null,{"className":"token keyword","children":"string"}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}]]}]," strings",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," Host",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"CreateDefaultBuilder"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"ConfigureServices"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],"_",["$","span",null,{"className":"token punctuation","children":","}]," services",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddScoped"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"IAnimals",["$","span",null,{"className":"token punctuation","children":","}]," Domestic",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddScoped"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"IAnimals",["$","span",null,{"className":"token punctuation","children":","}]," Wild",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["        services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddScoped"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"Domestic",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// Add this"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddScoped"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"Wild",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// Add this"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["        services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddSingleton"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"App",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"Now if I run the application with the breakpoints, I can verify that the assignments have worked correctly."}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_Xyv78ykoGjdL_YXn9EXsFA.png","alt":"","width":"1139","height":"184"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":"And the output in the console application is printed correctly, too!"}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_8OhQIsW5jwWKnzDJUkNC9w.png","alt":"","width":"1176","height":"170"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","h3",null,{"className":"content-header mt-8 mb-6","id":"moving-this-logic-up","children":[["$","a",null,{"className":"break-words","href":"#moving-this-logic-up","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Moving this logic up"]}],["$","blockquote",null,{"children":["$","p",null,{"children":["If you'd like to follow along, you can view the ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/multiple-implementations-di-ioc/tree/eb1dbe19579b96f7be0ef3d762a4d88a0dd89481","children":"GitHub code repository"}]," as it was when this step was implemented."]}]}],["$","p",null,{"children":["Rather than writing if conditions in the consuming ",["$","code",null,{"children":"App"}]," class, let's move the logic into the ",["$","code",null,{"children":"Program"}]," class file where we're registering the dependencies."]}],["$","p",null,{"children":["So, we'll leave the individually registered services in the file, lines 7 and 8 in the code snippet below. Next, to register an implementation with the type ",["$","code",null,{"children":"IAnimals"}],", we'll write a ",["$","code",null,{"children":"Func<T,TResult>"}]," ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://learn.microsoft.com/en-us/dotnet/api/system.func-2?view=net-7.0","children":"delegate"}],". The body of this method has a simple switch statement that returns the service depending on what type is passed, very similar to the if conditions in the ",["$","code",null,{"children":"foreach"}]," loop seen earlier. ",["$","code",null,{"children":"AnimalTypes"}]," is a simple enum with ",["$","code",null,{"children":"Domestic"}]," and ",["$","code",null,{"children":"Wild"}]," as its enum members."]}],["$","$L17",null,{"className":"language-csharp","children":["$","code",null,{"className":"language-csharp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name return-type","children":"IHostBuilder"}]," ",["$","span",null,{"className":"token function","children":"CreateHostBuilder"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":[["$","span",null,{"className":"token keyword","children":"string"}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}]]}]," strings",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," Host",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"CreateDefaultBuilder"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"ConfigureServices"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],"_",["$","span",null,{"className":"token punctuation","children":","}]," services",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddScoped"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"Domestic",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddScoped"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"Wild",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["          services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddTransient"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"Func",["$","span",null,{"className":"token punctuation","children":"<"}],"AnimalTypes",["$","span",null,{"className":"token punctuation","children":","}]," IAnimals",["$","span",null,{"className":"token punctuation","children":">"}],["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],"serviceProvider ",["$","span",null,{"className":"token operator","children":"=>"}]," serviceTypeName ",["$","span",null,{"className":"token operator","children":"=>"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token keyword","children":"switch"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"serviceTypeName",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["                  ",["$","span",null,{"className":"token keyword","children":"case"}]," AnimalTypes",["$","span",null,{"className":"token punctuation","children":"."}],"Domestic",["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["                      ",["$","span",null,{"className":"token keyword","children":"return"}]," serviceProvider",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"GetService"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"Domestic",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":"!"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["                  ",["$","span",null,{"className":"token keyword","children":"case"}]," AnimalTypes",["$","span",null,{"className":"token punctuation","children":"."}],"Wild",["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["                      ",["$","span",null,{"className":"token keyword","children":"return"}]," serviceProvider",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"GetService"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"Wild",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":"!"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["                  ",["$","span",null,{"className":"token keyword","children":"default"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["                      ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token keyword","children":"null"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["          services",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token generic-method","children":[["$","span",null,{"className":"token function","children":"AddSingleton"}],["$","span",null,{"className":"token class-name generic","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"App",["$","span",null,{"className":"token punctuation","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["Because we're resolving the service instance at runtime, we're registering this using the ",["$","code",null,{"children":"AddTransient"}]," method. A quick refresher, when a service is configured as transient, a new instance of that service is created every time it's needed. While, on the other hand, when a service is configured as scoped, a single instance of that service is created for the duration of an operation of request."]}],["$","p",null,{"children":["We can now go back to the ",["$","code",null,{"children":"App"}]," class file and replace the constructor bit to accept this function delegate and then use that method and pass in the required enum type to return the correct service instance."]}],["$","$L17",null,{"className":"language-csharp","children":["$","code",null,{"className":"language-csharp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"App"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"// The only change is in the constructor. Rest remains the same."}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token function","children":"App"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":["Func",["$","span",null,{"className":"token punctuation","children":"<"}],"AnimalTypes",["$","span",null,{"className":"token punctuation","children":","}]," IAnimals",["$","span",null,{"className":"token punctuation","children":">"}]]}]," serviceResolver",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        _domestic ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"serviceResolver"}],["$","span",null,{"className":"token punctuation","children":"("}],"AnimalTypes",["$","span",null,{"className":"token punctuation","children":"."}],"Domestic",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        _wild ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"serviceResolver"}],["$","span",null,{"className":"token punctuation","children":"("}],"AnimalTypes",["$","span",null,{"className":"token punctuation","children":"."}],"Wild",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"In a real scenario, though, if you're using dynamic service registration, it's very likely you wouldn't know what type would this class need, and hence you wouldn't end up hardcoding like we did in the example above. But since this is an example for the purpose of elaborating a concept, it's fine to leave this as-is."}],["$","p",null,{"children":"Anyway, running our console application now gives us the console output we were expecting, so yay!"}],["$","div",null,{"children":["$","div",null,{"children":["$","$L7",null,{"src":"/static/posts/1_uHKZm0N10P2i9_CXkND9LA.png","alt":"","width":"1225","height":"181"}]}]}],["$","p",null,{"children":"Image courtesy of the author"}],["$","p",null,{"children":["Once again, the complete source code used in this article can be found in ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/ClydeDz/multiple-implementations-di-ioc","children":"this GitHub repository"}],". If you have any questions, feel free to comment below."]}],["$","p",null,{"children":"That's it! Thanks for reading."}]]}],["$","div",null,{"className":"pt-6 pb-6 text-center text-gray-700 dark:text-gray-300","id":"comment","children":["$","$L18",null,{"slug":"how-to-use-multiple-implementations-of-an-interface-in-net-core"}]}]]}],["$","$L19",null,{"content":"$c:1:props:children:1:props:children:0:props:content","authorDetails":[{"name":"Clyde D'Souza","avatar":"/static/images/clydedsouza.jpg","occupation":"Senior Software Engineer. Digital Content Creator.","bio":"Hi, I'm Clyde. I'm a software engineer and digital content creator based in Auckland, New Zealand. I write about various technologies, teach online classes, make videos, and I'm also the author of a children's bedtime storybook!","email":"address@yoursite.com","twitter":"https://twitter.com/clydedz","linkedin":"https://www.linkedin.com/in/clydedz/","github":"https://github.com/clydedz","kofi":"https://ko-fi.com/L3L026ITT","type":"Authors","readingTime":{"text":"1 min read","minutes":0.18,"time":10800,"words":36},"slug":"default","path":"authors/default","filePath":"authors/default.mdx","toc":[]}],"next":{"title":"Code Review Etiquette","date":"2023-11-15T00:00:00.000Z","tags":["Code Review","Git","Pull Request","Software Development","Code Review Checklist"],"readingList":["Software Engineering"],"lastmod":"2023-11-15T00:00:00.000Z","draft":false,"subtitle":"Soft skills to enable effective pull requests","images":["/static/posts/codereview.jpg"],"type":"Blog","readingTime":{"text":"9 min read","minutes":8.515,"time":510900,"words":1703},"slug":"code-review-etiquette","path":"posts/code-review-etiquette","filePath":"posts/code-review-etiquette.mdx","toc":[{"value":"1) Review only what's modified","url":"#1-review-only-whats-modified","depth":3},{"value":"2) Review without hesitation","url":"#2-review-without-hesitation","depth":3},{"value":"3) Keep it non-personal","url":"#3-keep-it-non-personal","depth":3},{"value":"4) No personal opinions","url":"#4-no-personal-opinions","depth":3},{"value":"5) Spread the positivity","url":"#5-spread-the-positivity","depth":3},{"value":"6) Approving, rejecting, or adding neutral comments","url":"#6-approving-rejecting-or-adding-neutral-comments","depth":3},{"value":"7) Testing for defects","url":"#7-testing-for-defects","depth":3},{"value":"8) What else can be reviewed?","url":"#8-what-else-can-be-reviewed","depth":3},{"value":"9) Responding to feedback","url":"#9-responding-to-feedback","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"Code Review Etiquette","datePublished":"2023-11-15T00:00:00.000Z","dateModified":"2023-11-15T00:00:00.000Z","description":"Soft skills to enable effective pull requests","image":"/static/posts/codereview.jpg","url":"https://blog.clydedsouza.net/posts/code-review-etiquette","author":[{"@type":"Person","name":"Clyde D'Souza"}]}},"prev":{"title":"What's Your Favorite Fruit? Cherries, I Hope","date":"2023-09-14T00:00:00.000Z","tags":["Git","Cherry Picking","Development","Software Engineering","Source Control"],"readingList":[],"lastmod":"2023-09-14T00:00:00.000Z","draft":false,"subtitle":"How I accidentally learned Git cherry-pick","images":["/static/posts/cherries.jpg"],"type":"Blog","readingTime":{"text":"4 min read","minutes":3.085,"time":185100,"words":617},"slug":"what-s-your-favorite-fruit-cherries-i-hope-how-i-accidentally-learned-git-cherry-pick","path":"posts/what-s-your-favorite-fruit-cherries-i-hope-how-i-accidentally-learned-git-cherry-pick","filePath":"posts/what-s-your-favorite-fruit-cherries-i-hope-how-i-accidentally-learned-git-cherry-pick.mdx","toc":[{"value":"So, what is cherry-picking in Git?","url":"#so-what-is-cherry-picking-in-git","depth":3},{"value":"Using a Git client","url":"#using-a-git-client","depth":3},{"value":"Command line","url":"#command-line","depth":3}],"structuredData":{"@context":"https://schema.org","@type":"BlogPosting","headline":"What's Your Favorite Fruit? Cherries, I Hope","datePublished":"2023-09-14T00:00:00.000Z","dateModified":"2023-09-14T00:00:00.000Z","description":"How I accidentally learned Git cherry-pick","image":"/static/posts/cherries.jpg","url":"https://blog.clydedsouza.net/posts/what-s-your-favorite-fruit-cherries-i-hope-how-i-accidentally-learned-git-cherry-pick"}},"children":"$c:1:props:children:1:props:children:1:props:children:0:props:children:0:props:children"}]]}]]}]]}]]
11:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
e:null
f:null
13:[["$","title","0",{"children":"How To Use Multiple Implementations of an Interface in .NET Core? | Clyde's Blog"}],["$","meta","1",{"name":"description","content":"Registering and retrieving multiple implementations from the IoC container"}],["$","meta","2",{"name":"robots","content":"index, follow"}],["$","meta","3",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","4",{"rel":"canonical","href":"https://blog.clydedsouza.net/posts/how-to-use-multiple-implementations-of-an-interface-in-net-core"}],["$","link","5",{"rel":"alternate","type":"application/rss+xml","href":"https://blog.clydedsouza.net/feed.xml"}],["$","meta","6",{"property":"og:title","content":"How To Use Multiple Implementations of an Interface in .NET Core?"}],["$","meta","7",{"property":"og:description","content":"Registering and retrieving multiple implementations from the IoC container"}],["$","meta","8",{"property":"og:url","content":"https://blog.clydedsouza.net/posts/how-to-use-multiple-implementations-of-an-interface-in-net-core"}],["$","meta","9",{"property":"og:site_name","content":"Clyde's Blog"}],["$","meta","10",{"property":"og:locale","content":"en_US"}],["$","meta","11",{"property":"og:image","content":"https://blog.clydedsouza.net/static/posts/flowers.jpg"}],["$","meta","12",{"property":"og:type","content":"article"}],["$","meta","13",{"property":"article:published_time","content":"2023-10-19T00:00:00.000Z"}],["$","meta","14",{"property":"article:modified_time","content":"2023-10-19T00:00:00.000Z"}],["$","meta","15",{"property":"article:author","content":"Clyde D'Souza"}],["$","meta","16",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","17",{"name":"twitter:title","content":"How To Use Multiple Implementations of an Interface in .NET Core?"}],["$","meta","18",{"name":"twitter:description","content":"Registering and retrieving multiple implementations from the IoC container"}],["$","meta","19",{"name":"twitter:image","content":"https://blog.clydedsouza.net/static/posts/flowers.jpg"}]]
